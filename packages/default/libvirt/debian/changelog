libvirt (1.1.1-0ubuntu8.5) saucy-security; urgency=medium

  * SECURITY UPDATE: denial of service via lxc guest and virsh memtune
    - debian/patches/CVE-2013-6436.patch: make sure domain is active in
      src/lxc/lxc_driver.c.
    - CVE-2013-6436
  * SECURITY UPDATE: denial of service via job usage issues in several APIs
    - debian/patches/CVE-2013-6458.patch: fix races in
      src/qemu/qemu_driver.c.
    - CVE-2013-6458
  * SECURITY UPDATE: information disclosure via incorrect permission checks
    - debian/patches/CVE-2014-0028.patch: properly apply acls to events in
      src/access/viraccessperm.h, src/conf/domain_event.*,
      src/libxl/libxl_driver.c, src/lxc/lxc_driver.c,
      src/qemu/qemu_driver.c, src/remote/remote_driver.c,
      src/remote/remote_protocol.x, src/test/test_driver.c,
      src/uml/uml_driver.c, src/vbox/vbox_tmpl.c, src/xen/xen_driver.c.
    - CVE-2014-0028
  * SECURITY UPDATE: denial of service via keepalive feature
    - debian/patches/CVE-2014-1447.patch: make sure connection isn't closed
      in src/rpc/virnetserverclient.c.
    - CVE-2014-1447
  * SECURITY UPDATE: denial of service via reading libxl guest numa tables
    - debian/patches/CVE-2013-6457.patch: avoid invalid free in
      src/libxl/libxl_driver.c.
    - CVE-2013-6457
  * This package does _not_ contain the changes from 1.1.1-0ubuntu8.3
    in saucy-proposed.

 -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Wed, 22 Jan 2014 16:28:51 -0500

libvirt (1.1.1-0ubuntu8.2) saucy-proposed; urgency=low

  * add d/p/util_use_w_flag_when_calling_iptables.patch (LP: #1245322)
  * debian/apparmor/libvirt-qemu: allow access to usb info (LP: #1245251)
  * debian/apparmor/libvirt-qemu: allow access to hugepages mounts
    (LP: #1250216)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Thu, 14 Nov 2013 10:09:24 -0600

libvirt (1.1.1-0ubuntu8.1) saucy-security; urgency=low

  * SECURITY UPDATE: incorrect permission checks in the
    virConnectDomainXMLToNative API
    - debian/patches/CVE-2013-4401.patch: ensure proper permissions in
      src/libvirt.c, src/remote/remote_protocol.x.
    - CVE-2013-4401

 -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Wed, 06 Nov 2013 12:47:03 -0500

libvirt (1.1.1-0ubuntu8) saucy; urgency=low

  * SECURITY UPDATE: denial of service via invalid free in
    virFileNBDDeviceAssociate.
    - debian/patches/CVE-2013-4297.patch: properly initialize qemunbd in
      src/util/virfile.c.
    - CVE-2013-4297

 -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Wed, 02 Oct 2013 13:35:14 -0400

libvirt (1.1.1-0ubuntu7) saucy; urgency=low

  * fix-crash-in-libvirtd-when-events: make sure to remove all event
    callbacks when a client disconnects from libvirtd.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 02 Oct 2013 08:14:53 -0500

libvirt (1.1.1-0ubuntu6) saucy; urgency=low

  * SECURITY UPDATE: possible privilege escalation via pkcheck race.
    - debian/patches/CVE-2013-4311.patch: add uid to pkcheck call in
      configure.ac, daemon/remote.c, src/access/viraccessdriverpolkit.c,
      src/rpc/virnetserverclient.c, src/util/viridentity.*.
    - debian/rules: use DEB_AUTO_UPDATE_AUTOCONF and
      DEB_AUTO_UPDATE_AUTOHEADER.
    - debian/control: specify version of policykit-1 security update, add
      libpolkit-gobject-1-dev to Build-Depends.
    - CVE-2013-4311
  * SECURITY UPDATE: denial of service in remoteDispatchDomainMemoryStats
    - debian/patches/CVE-2013-4296.patch: properly initialize stats in
      daemon/remote.c.
    - CVE-2013-4296

 -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Tue, 24 Sep 2013 19:25:55 -0400

libvirt (1.1.1-0ubuntu5) saucy; urgency=low

  * add-bounds-checking-on-virdomainmigrate: upstream patch for CVE-2013-4292
  * security-provide-supplemental-groups: upstream patch for CVE-2013-4291

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 09 Sep 2013 13:16:43 -0500

libvirt (1.1.1-0ubuntu4) saucy; urgency=low

  * apply all patches from v1.1.1-maint
  * cherrypick xen-use-internal-interfaces-in-xendomainusedcpus from upstream
    git.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Thu, 22 Aug 2013 10:57:20 -0500

libvirt (1.1.1-0ubuntu3) saucy; urgency=low

  * debian/apparmor/usr.sbin.libvirtd: Include the system bus abstraction in
    the libvirtd AppArmor profile as libvirtd connects to the D-Bus system bus

 -- Tyler Hicks <tyhicks@canonical.com>  Tue, 20 Aug 2013 09:07:17 -0700

libvirt (1.1.1-0ubuntu2) saucy; urgency=low

  * debian/patches/fix-remote-client-segfault.patch: Fix segfault when 
    using a remote client. 

 -- Chuck Short <zulcss@ubuntu.com>  Mon, 19 Aug 2013 10:33:08 -0400

libvirt (1.1.1-0ubuntu1) saucy; urgency=low

  [ Chuck Short ]
  * New usptream version:
    - Dropped: 
      + debian/patches/CVE-2013-2218-fix-crash-listing-network-interfaces-with-filters:
        no longer needed.
      + debian/patches/ubuntu-xen-hypervisor-4.3.patch: no longer needed.
      + debian/patches/ubuntu-xen-fix-api-deadlocks.patch: no longer needed.
    - Rediffed:
      + debian/patches/Don-t-enable-default-network-on-boot.patch
      + debian/patches/9005-increase-unix-socket-timeout.patch

   [ Stefan Bader ]
   * Add apparmor rights to call into /usr/lib/xen-common/bin/xen-toolstack
     to figure out which one is active.
   * debian/patches/ubuntu-xend-probe.patch: Fix failure to detect
     whether Xen uses xm/xend toolstack or xl/libxl. Avoid running
     "xend status" as we do not package that in a pbublic path.

 -- Chuck Short <zulcss@ubuntu.com>  Thu, 15 Aug 2013 17:23:21 +0000

libvirt (1.0.6-0ubuntu4) saucy; urgency=low

  * ubuntu-xen-fix-api-deadlocks.patch (LP: #1191782)
    Fix the deadlocks in the xen driver when doing a dumpxml for active
    domains.
  * ubuntu-libxl-qemu-nopath.patch
    Create libxl configurations without paths for qemu-dm and hvmloader.
    The Xen toolstack can figure this out.
  * ubuntu-xen-hypervisor-4.3.patch
    Update the xen driver to handle the new sysctl and domctl versions
    in Xen-4.3.
  * Add apparmor definitions to execute scripts in /etc/xen/scrips as
    the libxl driver calls out to them (with the xen/xm driver this was
    done by the xen toolstack and communication with that was through
    a socket).

 -- Stefan Bader <stefan.bader@canonical.com>  Tue, 16 Jul 2013 10:59:11 +0200

libvirt (1.0.6-0ubuntu3) saucy; urgency=low

  * debian/apparmor/usr.lib.libvirt.virt-aa-helper: allow owner read of
    @{PROC}/[0-9]*/status

 -- Jamie Strandboge <jamie@ubuntu.com>  Mon, 15 Jul 2013 10:28:42 -0500

libvirt (1.0.6-0ubuntu2) saucy; urgency=low

  * Apply CVE-2013-2218-fix-crash-listing-network-interfaces-with-filters.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Fri, 28 Jun 2013 13:13:20 -0500

libvirt (1.0.6-0ubuntu1) saucy; urgency=low

  * New upstream relase.
    + Dropped patches:
      - debian/patches/vnc-socket.patch: Dropped no longer needed.
      - debian/patches/Add-sanitytest.py.patch: Dropped no longer needed.
   * debian/libvirt-bin.postinst: Make sure qemu.conf isn't world readable 
     by default.

 -- Chuck Short <zulcss@ubuntu.com>  Mon, 03 Jun 2013 11:27:02 -0500

libvirt (1.0.5-0ubuntu1) saucy; urgency=low

  * New upstream release: 
    + Dropped patches:
      - debian/patches/fix-virterror-namechange
      - debian/patches/apparmor-use-apparmor-setfdlabel
      - debian/patches/prevent-lxc-shutdown-host.patch
      - debian/patches/apparmor-no-need-to-check-security-model
      - debian/patches/nonblock-fix.patch
     + Refreshed patches:
      - debian/patches/9002-better_default_uri_virsh.patch
      - debian/patches/enable-kvm-spice.patch
      - debian/patches/patch-qemuMonitorTextGetMigrationStatus-to-intercept.patch
   * debian/patches/Add-sanitytest.py.patch: Add patch to fix missing sanitytest.py
     when building the testsuite.
   * debian/libvirt-dev.install: dont't ship files for static linking.

 -- Chuck Short <zulcss@ubuntu.com>  Thu, 02 May 2013 10:21:49 -0500

libvirt (1.0.2-0ubuntu12) saucy; urgency=low

  * debian/libvirt-bin.{dirs,install}: install dnsmasq.d-available/libvirt-bin
    (LP: #1113821)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 29 Apr 2013 07:38:07 -0500

libvirt (1.0.2-0ubuntu11) raring; urgency=low

  * debian/patches/nonblock-fix.patch: cherrypicked upstream patch to
    not mark qemu migration fd non-blocking.  This fixes tcp live
    migration. (LP: #1157626)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Thu, 18 Apr 2013 10:43:26 -0500

libvirt (1.0.2-0ubuntu10) raring; urgency=low

  * Add code to postinst to fix any double-migration of /etc/dnsmasq.
    (LP: #1157332)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Thu, 28 Mar 2013 09:11:04 -0500

libvirt (1.0.2-0ubuntu9) raring; urgency=low

  * debian/patches/prevent-lxc-shutdown-host.patch: Backport fix
    from upstream to prevent lxc-containets shutting down the host. 

 -- Chuck Short <zulcss@ubuntu.com>  Mon, 25 Mar 2013 09:28:47 -0500

libvirt (1.0.2-0ubuntu8b1) raring; urgency=low

  * No-change rebuild against libudev1

 -- Martin Pitt <martin.pitt@ubuntu.com>  Wed, 13 Mar 2013 07:02:03 +0000

libvirt (1.0.2-0ubuntu8) raring; urgency=low

  * put libvirt-bin dnsmasq file into /etc/dnsmasq.d-available, and
    create a symlink in /etc/dnsmasq.d, to avoid problems when removing
    and re-installing libvirt-bin.  (LP: #1113821)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Tue, 26 Feb 2013 12:09:37 -0600

libvirt (1.0.2-0ubuntu7) raring; urgency=low

  * libvirt-bin.postinst: also put admin group members into the libvirtd
    group, to support systems installed before precise.  (LP: #1124127)
  * libvirt-bin.postinst: use getent group instead of grep /etc/group
  * rules: pass path to collie to enable sheepdog backend (LP: #1129107)
  * control, rules: enable building against libaudit, which is in main.

 -- Adam Conrad <adconrad@ubuntu.com>  Wed, 20 Feb 2013 15:50:47 -0700

libvirt (1.0.2-0ubuntu6) raring; urgency=low

  * Really refresh debian/patches/fix-ubuntu-xen-qemu-dm-path.patch and
    not only claim to and disable it.

 -- Stefan Bader <stefan.bader@canonical.com>  Tue, 19 Feb 2013 15:00:27 +0100

libvirt (1.0.2-0ubuntu5) raring; urgency=low

  * debian/apparmor/libvirt-qemu: allow qemu read access to
    @{PROC}/sys/vm/overcommit_memory

 -- Jamie Strandboge <jamie@ubuntu.com>  Thu, 14 Feb 2013 10:12:40 -0600

libvirt (1.0.2-0ubuntu4) raring; urgency=low

  * Update Readme.Debian
    - we use libvirtd, not libvirt group (LP: #1095140)
    - we add users from sudo, not admin group, to libvirtd.
  * libvirt-bin.postinst: put users from sudo, not admin group, into group
    libvirtd. (LP: #1124127)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 13 Feb 2013 09:47:58 -0600

libvirt (1.0.2-0ubuntu3) raring; urgency=low

  * libvirt-bin.postrm: only remove /etc/dnsmasq.d/libvirt-bin during
    remove.  (LP: #1113821)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 04 Feb 2013 10:35:47 -0600

libvirt (1.0.2-0ubuntu2) raring; urgency=low

  * debian/patches/fix-virterror-namechange: Include virterror otherwise
    python-libvirt wont be able to find any error codes. 

 -- Chuck Short <zulcss@ubuntu.com>  Fri, 01 Feb 2013 13:10:58 -0600

libvirt (1.0.2-0ubuntu1) raring; urgency=low

  [ Chuck Short ]
  * New upstream release: 
    + Dropped patches:
      - debian/patches/Add_RESUME_event_listener_to_qemu_monitor.patch
      - debian/patches/build-work-around-broken-kernel-header.patch
      - debian/patches/bridge-fix-persistent-networks.patch
      - debian/patches/CVE-2013-0170.patch
      - debian/patches/qemu-relax-hard-rss-limit.patch
      - debian/patches/9003-better-default-arch.patch
    + Refreshed patches:
      - debian/patches/fix-ubuntu-xen-qemu-dm-path.patch
      - debian/patches/Reduce-udevadm-settle-timeout-to-10-seconds.patch
      - debian/patches/9021-fix-uint64_t.patch
      - debian/patches/9020-lp545795.patch
      - debian/patches/Don-t-fail-if-we-can-t-setup-avahi.patch
    + debian/libvirt0.install: Add libvirt-lxc.so.*

  [ Serge Hallyn ]
  * debian/patches/fix-virterror-namechange: fix unfinished name change
    causing errors in generated libvirt.py.

 -- Chuck Short <zulcss@ubuntu.com>  Wed, 30 Jan 2013 09:04:38 -0600

libvirt (1.0.1-0ubuntu4) raring; urgency=low

  * SECURITY UPDATE: denial of service and possible code execution via
    uninitialized pointer
    - debian/patches/CVE-2013-0170.patch: remove message from queue before
      freeing in src/rpc/virnetserverclient.c.
    - CVE-2013-0170

 -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Tue, 29 Jan 2013 15:19:54 -0500

libvirt (1.0.1-0ubuntu3) raring; urgency=low

  * debian/apparmor/libvirt-qemu: add /usr/share/ovmf/** r (LP: #1074207)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Tue, 29 Jan 2013 11:55:19 -0600

libvirt (1.0.1-0ubuntu2) raring; urgency=low

  * add qemu-relax-hard-rss-limit.rss to avoid OOM kills (LP: #1102290)
  * debian/rules: replace --without-vbox with --with-vbox (LP: #1103721)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Thu, 24 Jan 2013 13:00:48 -0600

libvirt (1.0.1-0ubuntu1) raring; urgency=low

  * New upstream version.  (LP: #1102487)
    + Dropped apparmor-allow-hugepages
    + update dnsmasq-as-priv-user, upstream now uses a configuration file.
    + swap Add_RESUME_event_listener_to_qemu_monitor.patch from git tree for
      the backported handle_resume_1.0.0-0ubuntu4.patch.
    + rebuild debian/patches/build-work-around-broken-kernel-header
    + add bridge-fix-persistent-networks.patch from upstream to fix bug
      where new networks are not marked persistent.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 23 Jan 2013 13:24:30 -0600

libvirt (1.0.0-0ubuntu5) raring; urgency=low

  * handle_resume_1.0.0-0ubuntu4.patch: Add RESUME event listener to qemu
    monitor (LP: #1097824)
  * build-work-around-broken-kernel-header: work around FTBFS due to a
    broken linux/if_bridge.h.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 16 Jan 2013 09:15:20 -0600

libvirt (1.0.0-0ubuntu4) raring; urgency=low

  * debian/patches/apparmor-allow-hugepages: update apparmor policies to
    allow use of hugepages.  (LP: #646468)
  * debian/patches/vnc-socket.patch: If a vnc socket is in use, add it's
    path to the apparmor policy.  (LP: #1069534)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 05 Dec 2012 16:43:04 -0600

libvirt (1.0.0-0ubuntu3) raring; urgency=low

  * libvirt-bin.postinst: on first install, don't autostart virbr0 if
    192.168.122.0 already is in use.  On upgrade, always autostart
    virbr0 if and only if it was autostarted before the upgrade.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Tue, 27 Nov 2012 00:25:11 -0600

libvirt (1.0.0-0ubuntu2) raring; urgency=low

  * debian/patches/add-armhf-sysinfo-infomration.patch: Disable
    to fix FTBFS on arm.

 -- Chuck Short <zulcss@ubuntu.com>  Mon, 19 Nov 2012 10:41:02 -0600

libvirt (1.0.0-0ubuntu1) raring; urgency=low

  [ Chuck Short ]
  * New upstream version: 
    + droppped:
      - debian/patches/CVE-2012-3445.patch
      - debian/patches/fix-cve-2012-4423
      - debian/patches/lp1039678.patch
      - debian/patches/add-libvirt-highbank-support.patch
      - debian/patches/add-armhf-cpuinfo-parser.patch
      - debian/patches/fix-lxc-container-unmounting.patch
      - debian/patches/libnl3-build-fix.patch
      - debian/patches/Don-t-require-gawk-for-a-simple-print-expression.patch
      - debian/patches/virsh-Initialize-library-before-calling-virResetLast.patch
      - debian/patches/qemu-warn-on-pc-0.12.patch
      - debian/patches/storage-default-pool-permission-mode-to-0755
      - debian/patches/netcf-daemon-fix-wrong-macro-name
      - debian/patches/xen_hypervisor-treat-missing-privcmd-file-as-temporary.patch
    + Re-diffed:
      - debian/patches/9002-better_default_uri_virsh.patch
      - debian/patches/dnsmasq-as-priv-user
      - debian/patches/enable-kvm-spice.patch
    + debian/control, debian/rules: Turn on rbd pool storage.

   [ Serge Hallyn ]
   * Add patches to fix apparmor labeling issue at VM start:
     - apparmor-no-need-to-check-security-model
     - apparmor-use-apparmor-setfdlabel

 -- Chuck Short <zulcss@ubuntu.com>  Mon, 12 Nov 2012 07:50:44 -0600

libvirt (0.9.13-0ubuntu12) quantal; urgency=low

  * Refresh fix-ubuntu-xen-qemu-dm-path.patch to only use executable
    names and let the toolchain find out the right paths (LP: #914788).
    Thanks George Dunlap.
  * Refresh and re-activate xen_hypervisor-treat-missing-privcmd-file-
    as-temporary.patch (LP: #922486)

 -- Stefan Bader <stefan.bader@canonical.com>  Fri, 05 Oct 2012 11:35:43 +0200

libvirt (0.9.13-0ubuntu11) quantal-proposed; urgency=low

  * SECURITY UPDATE: denial of service via invalid RPC command
    - debian/patches/CVE-2012-3445.patch: make sure nparams isn't set to
      zero in daemon/remote.c.
    - CVE-2012-3445

 -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Wed, 26 Sep 2012 11:49:45 -0400

libvirt (0.9.13-0ubuntu10) quantal; urgency=high

  * apply fix-cve-2012-4423 from upstream to prevent potential daemon
    segfaults with newer virsh.
    - Fixes: CVE-2012-4423.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Fri, 14 Sep 2012 11:05:40 -0500

libvirt (0.9.13-0ubuntu9) quantal; urgency=low

  * debian/patches/lp1039678.patch: fix segfault in 'snapshot-list'
    - LP: #1039678

 -- Jamie Strandboge <jamie@ubuntu.com>  Tue, 21 Aug 2012 13:59:34 -0500

libvirt (0.9.13-0ubuntu8) quantal-proposed; urgency=low

  * debian/libvirt-bin.apport: add filter on AppArmor profile names to
    prevent false positives from denials originating in other packages.

 -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Mon, 20 Aug 2012 10:49:17 -0400

libvirt (0.9.13-0ubuntu7) quantal; urgency=low

  * debian/apparmor/libvirt-qemu: allow owner read access to @{PROC}/*/auxv

 -- Jamie Strandboge <jamie@ubuntu.com>  Tue, 14 Aug 2012 16:44:30 -0500

libvirt (0.9.13-0ubuntu6) quantal; urgency=low

  * enable netcf support (LP: #520386)
    - debian/control: build-dep on libnetcf-dev
    - debian/rules: add --with-netcf to configure args
  * add patch netcf-daemon-fix-wrong-macro-name from upstream so netcf support
    can actually work.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 08 Aug 2012 07:54:16 -0500

libvirt (0.9.13-0ubuntu5) quantal; urgency=low

  * add patch Reduce-udevadm-settle-timeout-to-10-seconds.patch (copied from
    Debian tree) to fix 3 minute hang during pool-refresh when using LVM
    backed pools.  (LP: #1027987)
  * debian/control: add pm-utils to libvirt-bin Suggests.  (LP: #994476)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Thu, 26 Jul 2012 11:05:18 -0500

libvirt (0.9.13-0ubuntu4) quantal; urgency=low

  * debian/patches/add-armhf-sysinfo-infomration.patch:
    Provides cpuinfo for armhf cpus.
  * debian/patches/add-armhf-cpuinfo-parser.patch:
    Fixes compile time warning about armhf cpus.

 -- Chuck Short <zulcss@ubuntu.com>  Thu, 19 Jul 2012 14:54:47 -0500

libvirt (0.9.13-0ubuntu3) quantal; urgency=low

  * debian/apparmor/libvirt-qemu: add ceph.conf (LP: #1026404)
  * debian/patches: re-add 9002-better_default_uri_virsh.patch (LP: #1026515)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Thu, 19 Jul 2012 07:58:39 -0500

libvirt (0.9.13-0ubuntu2) quantal; urgency=low

  * Apply upstream patch to switch default storage pool dir perms from 0700
    to 0755.  Then push our own patch to change that to 0711.  We'll get the
    upstream patch on 0.9.14 merge, but we'll want to keep our patch on top
    of that.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 16 Jul 2012 18:06:43 +0000

libvirt (0.9.13-0ubuntu1) quantal; urgency=low

  * New upstream version: 
  * debian/rules: Remove .la files
  * debian/control: Dropped debian vcs info.
  * Dropped:
    - debian/paches/9022-pass-the-virt-driver-name-into-security-drivers:
      Already applied upstream.
    - debian/patches/9023-dont-enable-apparmor-driver-with-lxc
      Already applied upstream.
    - debian/patches/9024-initialize-random-generator-in-lxc:
      Already applied upstream.
  * Re-diffed:
    - debian/patches/9002-better_default_uri_virsh.patch
  * Added:
    - debian/patches/add-libvirt-highbank-support.patch: Add highbank 
      CPU detection support.
    - debian/patches/fix-lxc-container-unmounting.patch: Fix container
      mounting.

 -- Chuck Short <zulcss@ubuntu.com>  Wed, 11 Jul 2012 12:37:49 -0500

libvirt (0.9.12-0ubuntu5) quantal; urgency=low

  * 9024-initialize-random-generator-in-lxc: invoke virRandomInitialize()
    to prevent segfaults when lxc uses virRandomBits().  (LP: #1023205)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 11 Jul 2012 07:59:03 -0500

libvirt (0.9.12-0ubuntu4) quantal; urgency=low

  * 9022-pass-the-virt-driver-name-into-security-drivers and
    9023-dont-enable-apparmor-driver-with-lxc: fix libvirt-lxc breakages
    due to incomplete apparmor security driver for lxc.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Fri, 29 Jun 2012 18:15:04 -0500

libvirt (0.9.12-0ubuntu3) quantal; urgency=low

  * install apport hook as right name - libvirt-bin is the binary package,
    the source package name is libvirt.  (LP: #1007405)
  * install /etc/dnsmasq.d/libvirt to configure system wide dnsmasq to not
    listen on the libvirt bridge.  (Following Stéphane's lxc example)
    (LP: #928524) (LP: #231060)
    - postinst: restart dnsmasq; postrm: remove dnsmasq.d/libvirt file and
      restart dnsmasq;  rules, libvirt-bin.dirs and libvirt-bin.install:
      install new debian/libvirt-bin.dnsmasq file.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Fri, 01 Jun 2012 09:36:58 -0500

libvirt (0.9.12-0ubuntu2) quantal; urgency=low

  * Warn user about bad pc-0.12 machine type, and help user transition.
    (LP: #1001625)
    - qemu-warn-on-pc-0.12.patch: When defining or starting a VM which uses the
      pc-0.12 machine type, warn in libvirtd.log. 
    - debian/libvirt-migrate-qemu-machinetype: automatically migrate QEMU VMs
      to newest machine type.  This is not done automatically as there will
      be some users who have good reason to stay with pc-0.12.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 28 May 2012 17:48:50 +0000

libvirt (0.9.12-0ubuntu1) quantal; urgency=low

  * New upstream version:
    * Synchronize with debian packaging:
      - debian/control: Update build depends.
      - debian/libvirt-bin.postrm: Cleanup /var/log/libvirt
        on purge.
      - Bump standards verson (no changes).
      - debian/patches/Don-t-fail-if-we-can-t-setup-avahi.patch: Added
    * Dropped patches:
      - debian/patches/Debianize-libvirt-guests.patch
      - debian/patches/rewrite-lxc-controller-eof-handling-yet-again
      - debian/patches/ubuntu/libnl13.patch
      - debian/patches/ubuntu/fix-lxc-startup-error.patch
      - debian/patches/ubuntu/fix-bridge-fd.patch
      - debian/patches/ubuntu/skip-labelling-network-disks.patch
      - debian/patches/ubuntu/xen-xend-shutdown-detection.patch
      - debian/patches/ubuntu/xen-config-no-vfb-for-hvm.patch
      - debian/patches/debian/Disable-daemon-start-test.patch
      - debian/patches/debian/Disable-gnulib-s-test-nonplocking-pipe.sh.patch
      - debian/patches/ubuntu/9006-default-config-test-case.patch
      - debian/patches/fix-block-migration.patch
      - debian/patches/ubuntu/9022-qemu-unescape-HMP-commands-before-converting-them-to.patch
      - debian/patches/ubuntu/9023-qemu-change-rbd-auth_supported-separation-character-.patch
      - debian/patches/ubuntu/9024-qemu-allow-snapshotting-of-sheepdog-and-rbd-disks.patch
      - debian/patches/9025-qemu-change-rbd-auth_supported-separation-character-.patch
      - debian/patches/ubuntu/arm-gcc-workaround.patch
    * Rediffed:
      - debian/patches/Allow-libvirt-group-to-access-the-socket.patch
      - debian/patches/Disable-failing-virnetsockettest.patch
      - debian/patches/dnsmasq-as-priv-user
      - debian/patches/9002-better_default_uri_virsh.patch
    * debian/control: Add libnl-route-3-dev ass a build depends.
    * debian/patches/libnl3-build-fix.patch: Fix build with libnl3.

 -- Chuck Short <zulcss@ubuntu.com>  Sun, 13 May 2012 15:44:12 -0400

libvirt (0.9.8-2ubuntu18) quantal; urgency=low

  * debian/apparmor/usr.sbin.libvirtd: allow execution of /lib/udev/scsi_id
    (LP: #992378)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 02 May 2012 14:02:32 -0500

libvirt (0.9.8-2ubuntu17) precise; urgency=low

  * debian/apparmor/usr.lib.libvirt.virt-aa-helper: add /**.qed r so qed
    drives in non-standard locations can be used.  (LP: #981571)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 16 Apr 2012 11:30:47 -0500

libvirt (0.9.8-2ubuntu16) precise; urgency=low

  [ Serge Hallyn ]
  * Apply patches from Josh Durgin <josh.durgin@dreamhost.com> to make
    attaching rbd volumes and taking snapshots of them work.
    - ubuntu/9022-qemu-unescape-HMP-commands-before-converting-them-to.patch
    - ubuntu/9023-qemu-change-rbd-auth_supported-separation-character-.patch
    - ubuntu/9024-qemu-allow-snapshotting-of-sheepdog-and-rbd-disks.patch
    - ubuntu/9025-qemu-change-rbd-auth_supported-separation-character-.patch

  [ Stefan Bader ]
  * Do not use vfb sections in HVM graphics definitions (side-
    effect will create a vkbd device as well which causes error
    messages in the HVM guest). (LP: #973529)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Thu, 05 Apr 2012 11:43:15 -0500

libvirt (0.9.8-2ubuntu15) precise; urgency=low

  [ Stefan Bader ]
  * Use domain/status to check for inactive domains in the xend sub-
    driver. (LP: #929626)
  * Prevent the hypervisor sub-driver from logging an internal error
    just because it cannot find a certain domain when looking for
    the number of vcpus. (LP: #963006)

 -- Stefan Bader <stefan.bader@canonical.com>  Fri, 23 Mar 2012 11:38:24 +0100

libvirt (0.9.8-2ubuntu14) precise; urgency=low

  * re-enable numa (undo delta against debian)  (LP: #614322):
    - debian/control: remove from dependencies
    - debian/rules: turn it off

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Tue, 13 Mar 2012 11:25:53 -0500

libvirt (0.9.8-2ubuntu13) precise; urgency=low

  * ubuntu/skip-labelling-network-disks.patch: don't try to label network
    drives with apparmor.  It fails.  (LP: #949428)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 12 Mar 2012 14:20:05 -0500

libvirt (0.9.8-2ubuntu12) precise; urgency=low

  [ Stefan Bader ]
  * Never use type=ioemu for NIC definitions. It is not needed
    and actually breaks the paravirt interface which always gets
    created in parallel.

 -- Stefan Bader <stefan.bader@canonical.com>  Wed, 07 Mar 2012 15:08:55 +0100

libvirt (0.9.8-2ubuntu11) precise; urgency=low

  [ Serge Hallyn ]
  * run dnsmasq as a new libvirt-dnsmasq user (LP: #938255)
    - ubuntu/dnsmasq-as-priv-user: add '-u libvirt-dnsmasq' to dnsmasq args
    - debian/libvirt-bin.postinst: create libvirt-dnsmasq user
    - tests/networkxml2argvdata/*.argv: update expected dnsmasq command lines
      to include '-u libvirt-dnsmasq'.

  [ Chuck Short ]
  * cherry-pick rewrite-lxc-controller-eof-handling-yet-again (commit
    9130396214975ba2251082f943c9717281039050) from upstream.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Fri, 02 Mar 2012 08:49:41 -0600

libvirt (0.9.8-2ubuntu10) precise; urgency=low

  * debian/control: add libgcrypt11-dev to build-depends (LP: #932889)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 15 Feb 2012 13:13:09 -0600

libvirt (0.9.8-2ubuntu9) precise; urgency=low

  [ Stefan Bader ]
  * xen_hypervisor: libvirtd can be started before xenfs has been loaded
    as a module. A missing privcmd file is not necessarily a permanent
    error. (LP: #922486)

  [ Serge Hallyn ]
  * debian/libvirt-bin.upstart: start on just 'runlevel [2345]'

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 08 Feb 2012 11:20:35 -0600

libvirt (0.9.8-2ubuntu8) precise; urgency=low

  * ubuntu/fix-bridge-fd.patch: cherrypick commit
    2d5046d31f4f5c961fc4aa6b415a00bb9eadae2b from upstream to write the
    bridge delay to the right file.  (LP: #924446)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 01 Feb 2012 11:13:23 -0600

libvirt (0.9.8-2ubuntu7) precise; urgency=low

  [ David weber ]
  * debian/patches/fix-block-migration.patch: Fix block-migration for large images.

  [ Guilhem Lettron ]
  * debian/apparmor/libvirt-qemu: add apparmor rule for mavtap  (LP: #921870)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Thu, 26 Jan 2012 11:22:04 -0600

libvirt (0.9.8-2ubuntu6) precise; urgency=low

  * debian/patches/fix-lxc-startup-error.patch: Fix lxc start up error.
    (LP: #921004)

 -- Chuck Short <zulcss@ubuntu.com>  Tue, 24 Jan 2012 10:05:29 -0500

libvirt (0.9.8-2ubuntu5) precise; urgency=low

  * debian/libvirt-bin.postinst: even if we think it's a new install, don't
    assume that /etc/libvirt/qemu/networks/autostart/default.xml doesn't
    exist.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 23 Jan 2012 12:43:02 -0600

libvirt (0.9.8-2ubuntu4) precise; urgency=low

  * debian/patches/fix-ubuntu-xen-qemu-dm-patch.patch:
    Update patch due to failing tests. 

 -- Chuck Short <zulcss@ubuntu.com>  Fri, 20 Jan 2012 16:05:45 -0500

libvirt (0.9.8-2ubuntu3) precise; urgency=low

  * debian/control: add dbus to libvirt-bin depends.  It fails to start
    otherwise.  (LP: #918343)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Thu, 19 Jan 2012 16:11:44 -0600

libvirt (0.9.8-2ubuntu2) precise; urgency=low

  * debian/patches/fix-ubuntu-xen-qemu-dm-path.patch:
    Fix qemu-dm paths so Xen can be used with libvirt.
    (LP: #914788)

 -- Chuck Short <zulcss@ubuntu.com>  Wed, 18 Jan 2012 14:31:27 -0500

libvirt (0.9.8-2ubuntu1) precise; urgency=low

  * Merge from Debian Unstable, remaining changes are: 
    - debian/control:
      * set X-Python-Version to 2.7, as 2.6 is not in oneiric.
      * set ubuntu maintainer
      * Build-Depends:
        - swap  open-iscsi to open-iscsi-utils
        - remove virtualbox-ose
        - add libapparmor-dev
        - swap libnl-dev for libnl3-dev
      * convert Vcs-Git to Xs-Debian-Vcs-Git
      * libvirt-bin Depends: move netcat-openbsd, bridge-utils, dnsmasq-base
        (>= 2.46-1), and iptables from Recommends to Depends
      * libvirt-bin Recommends: move qemu to Suggests
      * libvirt-bin Suggests: add apparmor
      * libvirt0 Recommends: move lvm2 to Suggests
      * Install cgroup-lite
    - keep debian/libvirt-bin.apport
    - keep debian/libvirt-bin.cron.daily
    - debian/libvirt-bin.dirs:
      * add apparmor, cron.daily, and apport dirs
    - debian/libvirt-bin.examples:
      * add debian/libvirt-suspendonreboot
    - debian/libvirt-bin.install:
      * add /etc/apparmor.d files
      * add apport hook
    - debian/libvirt-bin.postinst:
      * replace libvirt groupname with libvirtd
      * add each admin user to libvirtd group
      * call apparmor_parser on usr.sbin.libvirtd and
        usr.lib.libvirt.virt-aa-helper
      * call 'libvirt-migrate-qemu-disks -a' after
        libvirt-bin has started if migrating from
        older than 0.8.3-1ubuntu1
    - debian/libvirt-bin.postrm:
      * replace libvirt groupname with libvirtd
      * remove usr.sbin.libvirtd and
        usr.lib.libvirt.virt-aa-helper
    - keep added files under debian/:
      * libvirt-bin.upstart
      * libvirt-migrate-qemu-disks
      * libvirt-migrate-qemu-disks.1
      * libvirt-suspendonreboot
      * apparmor profiles
    - debian/README.Debian:
      * add 'Apparmor Profile' section
      * add 'Disk migration' section
    - debian/rules:
      * don't build with vbox since virtualbox-ose is in universe
        - remove WITH_VBOX, add explicit --without-vbox
      * add --with-apparmor to DEB_CONFIGURE_EXTRA_FLAGS
      * set DEB_DH_INSTALLINIT_ARGS to '--upstart-only'
      * remove unneeded clean:: section (they only deal with sysvinit stuff)
      * comment out binary-install/libvirt-bin:: part dealing with sysvinit
      * dont ship libvirt-guests init script for now.
      * add build/libvirt-bin:: section to install
        - apparmor files
        - apport hooks
        - libvirt-migrate-qemu-disks
  * debian/patches/series:
    - don't apply Debian-specific Debianize-libvirt-guests.patch (sysvinit only)
    - don't apply Disable qemu-disable-network.diff.patch
  * debian/patches(/ubuntu):
    - Disable-gnulib-s-test-nonplocking-pipe.sh.patch is in sid's debian/patches
    - drop patches:
      * 9000-delayed_iff_up_bridge.patch
      * 9011-move-ebtables-script.patch
      * apparmor-allow-tunnelled-migration.patch
      * apparmor-allow-tunnelled-migration-2.patch
      * fix-qemu-1.0.patch
      * conf-dont-drop-console-def-ondomain-restart.patch
    - keep (and refreshed) patches:
      * 9002-better_default_uri_virsh.patch
      * 9003-better-default-arch.patch
      * 9004-libvirtd-group-name.patch
      * 9005-increase-unix-socket-timeout.patch
      * 9006-default-config-test-case.patch
      * 9020-lp545795.patch
      * 9021-fix-uint64_t.patch
      * libnl3.patch
      * arm-gcc-workaround.patch
  * disable numa - until the MIR for numa is done
    - debian/control: remove from dependencies
    - debian/rules: turn it off
  * Fix default network autostart symlink disappearing on upgrade (LP: #901298)
    - debian/libvirt-bin.preinst: note if the symlink exists
    - debian/libvirt-bin.postinst: if symlink existed, OR if we are upgrading
      from one of the broken versions, then recreate the symlink.  (Continue
      to create the symlink on new installs.)
   * enable use of libvirt with kvm-spice (LP: #903962):
    . src/qemu/qemu_capabilities.c: search for 'kvm-spice' before
      'kvm' (debian/patches/ubuntu/enable-kvm-spice.patch)
    . debian/apparmor/libvirt-qemu:
      * prepend 'owner' to /run/shm/spice.* rule
      * add more needed spice perms 

 -- Chuck Short <zulcss@ubuntu.com>  Fri, 13 Jan 2012 15:11:48 +0100

libvirt (0.9.8-2) unstable; urgency=low

  * Upload to unstable. Works with qemu-kvm and qemu 1.0.
    (Closes: #652454)

 -- Guido Günther <agx@sigxcpu.org>  Sat, 17 Dec 2011 14:01:20 +0100

libvirt (0.9.8-1) experimental; urgency=low

  * [8a35c97] New upstream version 0.9.8
  * [52e19b5] Drop remote_driver-don-t-fail-if-keepalive-check-fails.patch
    applied upstream.

 -- Guido Günther <agx@sigxcpu.org>  Thu, 08 Dec 2011 23:31:31 +0100

libvirt (0.9.8~rc2-2) experimental; urgency=low

  * [e50aac4] remote_driver: don't fail if keepalive check fails. This fixes
    remote connections to older libvirt versions.

 -- Guido Günther <agx@sigxcpu.org>  Mon, 05 Dec 2011 18:00:06 +0100

libvirt (0.9.8~rc2-1) experimental; urgency=low

  * [9b1abb2] New upstream version 0.9.8~rc2

 -- Guido Günther <agx@sigxcpu.org>  Sun, 04 Dec 2011 13:58:31 +0100

libvirt (0.9.8~rc1-1) experimental; urgency=low

  * [99476ba] New upstream version 0.9.8~rc1
  * [3bdcf07] Make radvd a linux-any build-dep (Closes: #649635)
  * [7546785] Drop patch storage-forbid-rebuilding-existing-disk-storage-pool
    applied upstream.
  * [0c2afdb] Rediff remaining patches
  * [3d121b2] Update symbols file

 -- Guido Günther <agx@sigxcpu.org>  Sat, 03 Dec 2011 14:49:49 +0100

libvirt (0.9.7-2ubuntu16) precise; urgency=low

  * Don't apply ubuntu/conf-dont-drop-console-def-ondomain-restart.patch:
    it breaks virt-manager.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Fri, 13 Jan 2012 14:59:03 +0100

libvirt (0.9.7-2ubuntu15) precise; urgency=low

  * debian/patches/ubuntu/conf-dont-drop-console-def-ondomain-restart.patch:
    cherrypicked from upstream to fix 'virsh console'.  (LP: #915355)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Thu, 12 Jan 2012 23:47:09 +0100

libvirt (0.9.7-2ubuntu14) precise; urgency=low

  * debian/apparmor/usr.lib.libvirt.virt-aa-helper: Update for nova.
    (LP: #907269) 

 -- Chuck Short <zulcss@ubuntu.com>  Wed, 11 Jan 2012 09:50:26 -0500

libvirt (0.9.7-2ubuntu13) precise; urgency=low

  * move cgroup-lite | cgroup-bin to depends, now that cgroup-lite is in
    main.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 11 Jan 2012 14:02:40 +0100

libvirt (0.9.7-2ubuntu12) precise; urgency=low

  * enable use of libvirt with kvm-spice (LP: #903962):
    . src/qemu/qemu_capabilities.c: search for 'kvm-spice' before
      'kvm' (debian/patches/ubuntu/enable-kvm-spice.patch)
    . debian/apparmor/libvirt-qemu:
      * prepend 'owner' to /run/shm/spice.* rule
      * add more needed spice perms
  * move cgroup-lite | cgroup-bin to depends, now that cgroup-lite is in
    main.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Tue, 10 Jan 2012 12:06:13 +0100

libvirt (0.9.7-2ubuntu11) precise; urgency=low

  * debian/control: Revert cgroup-lite | cgroup-bin move from suggests to
    depends: cgroup-lite is not in main.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 09 Jan 2012 12:16:17 +0100

libvirt (0.9.7-2ubuntu10) precise; urgency=low

  * debian/control: move (cgroup-lite | cgroup-bin) from Suggests to Depends.
    Libvirt-lxc is broken without it.
  * apparmor/usr.lib.libvirt.virt-aa-helper: add 'deny /dev/dm-*' to silence
    warnings about lvm backing stores (LP: #912007)
  [ Peter Silva ]
  * apparmor/libvirt-qemu: add rules to enable spice audio
    (LP: #913023)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 09 Jan 2012 10:15:57 +0100

libvirt (0.9.7-2ubuntu9) precise; urgency=low

  * Build-Depend on libnl-3-dev. (LP: #908581)
  * Update libnl3 patch to also pass LIBNL_CFLAGS in the LXC target.

 -- Andreas Moog <amoog@ubuntu.com>  Wed, 04 Jan 2012 21:56:55 +0000

libvirt (0.9.7-2ubuntu8) precise; urgency=low

  * debian/apparmor/libvirt-qemu: add /etc/pki/CA/* and /etc/pki/libvirt/**
    (LP: #901272)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 04 Jan 2012 13:18:50 -0600

libvirt (0.9.7-2ubuntu7) precise; urgency=low

  * Fix default network autostart symlink disappearing on upgrade (LP: #901298)
    - debian/libvirt-bin.preinst: note if the symlink exists
    - debian/libvirt-bin.postinst: if symlink existed, OR if we are upgrading
      from one of the broken versions, then recreate the symlink.  (Continue
      to create the symlink on new installs.)
  * debian/patches/fix-qemu-1.0.patch: without this patch, libvirt fails
    when trying to parse the version # from qemu 1.0.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 07 Dec 2011 10:26:05 -0600

libvirt (0.9.7-2ubuntu6) precise; urgency=low

  * debian/rules, libvirt-bin.dirs and libvirt-bin.install: put
    /etc/apparmor.d/local/usr.sbin.libvirtd into place.  (fixes break since
    0.9.7-2ubuntu4)  (LP: #900857)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Tue, 06 Dec 2011 11:03:16 -0600

libvirt (0.9.7-2ubuntu5) precise; urgency=low

  * Fix compile failure (VIR_WARN needs logging.h)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Fri, 02 Dec 2011 13:50:12 -0600

libvirt (0.9.7-2ubuntu4) precise; urgency=low

  * debian/apparmor/usr.sbin.libvirtd:
    - allow access to /etc/libvirt/hooks/** (LP: #891472)
    - #include <local/usr.sbin.libvirtd> for site-local customizations
  * debian/control: Suggest cgroup-lite | cgroup-bin (LP: #544146)
  * debian/patches/ubuntu/apparmor-allow-tunnelled-migration-2.patch:
    Warn but don't error out when we can't find a pathname for a file.
    This is needed to support tunnelled migration.  (LP: #869553)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Fri, 02 Dec 2011 11:50:47 -0600

libvirt (0.9.7-2ubuntu3) precise; urgency=low

  * Don't override local removal of default network autostart on upgrades
    (LP: #372001)
    - re-enable debian/Don-t-enable-default-network-on-boot.patch
    - debian/libvirt-bin.postinst: create default network autostart symlink
      for new installs only.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Thu, 01 Dec 2011 21:55:01 +0000

libvirt (0.9.7-2ubuntu2) precise; urgency=low

  * apparmor-allow-tunnelled-migration.patch: adjust virt-aa-helper to
    allow tunnelled migration (LP: #869553)
    (Thanks to Simon Deziel <simon.deziel@gmail.com>)
  * fix break in last upload: *really* don't apply patch
    debian/Don-t-enable-default-network-on-boot.patch

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Fri, 18 Nov 2011 15:52:38 -0600

libvirt (0.9.7-2ubuntu1) precise; urgency=low

  * Merged from debian unstable (LP: #889104) (LP: #890036).
    Remaining changes are:
    - debian/control:
      * set X-Python-Version to 2.7, as 2.6 is not in oneiric.
      * set ubuntu maintainer
      * Build-Depends:
        - swap  open-iscsi to open-iscsi-utils
        - remove virtualbox-ose
        - add libapparmor-dev
        - swap libnl-dev for libnl3-dev
      * convert Vcs-Git to Xs-Debian-Vcs-Git
      * libvirt-bin Depends: move netcat-openbsd, bridge-utils, dnsmasq-base
        (>= 2.46-1), and iptables from Recommends to Depends
      * libvirt-bin Recommends: move qemu to Suggests
      * libvirt-bin Suggests: add apparmor
      * libvirt0 Recommends: move lvm2 to Suggests
    - keep debian/libvirt-bin.apport
    - keep debian/libvirt-bin.cron.daily
    - debian/libvirt-bin.dirs:
      * add apparmor, cron.daily, and apport dirs
    - debian/libvirt-bin.examples:
      * add debian/libvirt-suspendonreboot
    - debian/libvirt-bin.install:
      * add /etc/apparmor.d files
      * add apport hook
    - debian/libvirt-bin.postinst:
      * replace libvirt groupname with libvirtd
      * add each admin user to libvirtd group
      * call apparmor_parser on usr.sbin.libvirtd and
        usr.lib.libvirt.virt-aa-helper
      * call 'libvirt-migrate-qemu-disks -a' after
        libvirt-bin has started if migrating from
        older than 0.8.3-1ubuntu1
    - debian/libvirt-bin.postrm:
      * replace libvirt groupname with libvirtd
      * remove usr.sbin.libvirtd and
        usr.lib.libvirt.virt-aa-helper
    - keep added files under debian/:
      * libvirt-bin.upstart
      * libvirt-migrate-qemu-disks
      * libvirt-migrate-qemu-disks.1
      * libvirt-suspendonreboot
      * apparmor profiles
    - debian/README.Debian:
      * add 'Apparmor Profile' section
      * add 'Disk migration' section
    - debian/rules:
      * don't build with vbox since virtualbox-ose is in universe
        - remove WITH_VBOX, add explicit --without-vbox
      * add --with-apparmor to DEB_CONFIGURE_EXTRA_FLAGS
      * set DEB_DH_INSTALLINIT_ARGS to '--upstart-only'
      * remove unneeded clean:: section (they only deal with sysvinit stuff)
      * comment out binary-install/libvirt-bin:: part dealing with sysvinit
      * dont ship libvirt-guests init script for now.
      * add build/libvirt-bin:: section to install
        - apparmor files
        - apport hooks
        - libvirt-migrate-qemu-disks
  * debian/patches/series:
    - don't apply Debian-specific Debianize-libvirt-guests.patch (sysvinit only)
    - don't apply Disable qemu-disable-network.diff.patch
  * debian/patches(/ubuntu):
    - Disable-gnulib-s-test-nonplocking-pipe.sh.patch is in sid's debian/patches
    - drop patches:
      * 9014-skip-nodeinfotest.patch # should this be dropped?
      * lp832507.patch (applied upstream)
      * 9029-skip-tests.patch
      * lxc-use-own-ptyfns.patch (applied upstream)
    - keep (and refreshed) patches:
      * 9000-delayed_iff_up_bridge.patch
      * 9002-better_default_uri_virsh.patch
      * 9003-better-default-arch.patch
      * 9004-libvirtd-group-name.patch
      * 9005-increase-unix-socket-timeout.patch
      * 9006-default-config-test-case.patch
      * 9011-move-ebtables-script.patch
      * 9020-lp545795.patch
      * 9021-fix-uint64_t.patch
      * libnl3.patch
      * arm-gcc-workaround.patch
  * disable numa - until the MIR for numa is done
    - debian/control: remove from dependencies
    - debian/rules: turn it off

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Tue, 15 Nov 2011 21:33:16 -0600

libvirt (0.9.7-2) unstable; urgency=low

  * [b0bdb13] Enable numa support. (Closes: #648323)
    Thanks to Ralf Spenneberg for testing
  * [5b55828] Disk storage: forbid rebuilding existing disk storage pools
    wiping all it's data.
  * [d77511c] Build depend on radvd (Closes: #648551)

 -- Guido Günther <agx@sigxcpu.org>  Sat, 12 Nov 2011 23:16:21 +0100

libvirt (0.9.7-1) experimental; urgency=low

  * [c06e393] debian/watch: match releases and release candidates
  * [2d08768] New upstream version 0.9.7
  * [a260f43] Add empty hooks dir (Closes: #623996)
  * [0b10e48] Install logrotate files again. This got broken by moving to
    separate build-dir. Based on a patch from Serge Hallyn. (Closes: #647953)

 -- Guido Günther <agx@sigxcpu.org>  Thu, 10 Nov 2011 19:11:02 +0100

libvirt (0.9.7~rc2-1) experimental; urgency=low

  * [2d51700] New upstream version 0.9.7~rc2
  * [bae02ad] Drop patches, now fixed upstream.
      - Fix-storage-pool-source-comparison-to-avoid-comparin.patch
      - Skip-socket-test-if-we-exceed-UNIX_PATH_MAX.patch

 -- Guido Günther <agx@sigxcpu.org>  Thu, 03 Nov 2011 18:59:03 +0100

libvirt (0.9.7~rc1-2) experimental; urgency=low

  * [c0292f7] Skip socket test if we exceed UNIX_PATH_MAX.
  * [764a29c] Fix storage pool source comparison to avoid comparing with self
    Thanks to Daniel P. Berrange

 -- Guido Günther <agx@sigxcpu.org>  Wed, 02 Nov 2011 19:07:51 +0100

libvirt (0.9.7~rc1-1) experimental; urgency=low

  * [6dba3c4] New upstream version 0.9.7~rc1
  * [456c4b7] Update symbols file
  * [a5b6513] debian/watch: allow for '-' in the version number so we also
    catch the release candidates.
  * [a5d0318] Drop Autodetect-if-the-remote-nc-command-supports-the-q-o.patch
    fixed upstream.
  * [fb8aed9] Update remaining patches
  * [1f841c0] Move Debian specific patches to debian/patches/debian

 -- Guido Günther <agx@sigxcpu.org>  Wed, 02 Nov 2011 10:04:40 +0100

libvirt (0.9.6-2ubuntu2) precise; urgency=low

  * Move creation of /var/log/libvirt/{lxc,uml,qemu} dirs from libvirt-bin.dirs
    to libvirt-bin.postinst.  Otherwise after a 'apt-get remove libvirt-bin',
    that dir will be removed (if empty) but /etc/logrotate.d/libvirtd will 
    still try to rotate it and raise errors. (LP: #886770)
  * debian/rules: Fix a bug in the new logic for installing upstream-supplied
    logrotate files.  (LP: #887312)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 07 Nov 2011 12:58:49 -0600

libvirt (0.9.6-2ubuntu1) precise; urgency=low

  * Sync changes from 0.9.6-2 to install the libvirtd manpage (LP: #522710)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 31 Oct 2011 22:22:27 -0400

libvirt (0.9.6-2) unstable; urgency=low

  * [6e5ad9d] Install libvirtd manpage. Thanks to Serge E. Hallyn
    (Closes: #644457, #606069)
  * [480ef36] Remove now superfluous build-dep on QEMU
  * [86140cf] python-libvirt: Recommend libvirt-bin (Closes: #646440)
  * [a76d37f] Build-depend and Recommend: parted since it's needed for disk
    storage pool creation (found by libvirt-tck)
  * [2e7bee9] Remove workaround for m68k ICE fixed in gcc-4.6 upstream and
    Debian's gcc-4.4. Thanks to Thorsten Glaser

 -- Guido Günther <agx@sigxcpu.org>  Sun, 30 Oct 2011 17:14:21 +0100

libvirt (0.9.6-1ubuntu3) precise; urgency=low

  * debian/control: - add radvd to build-depends (LP: #862136)
  * debian/control: remove moved relations from original:
    - libvirt-bin Depends: move netcat-openbsd, bridge-utils, dnsmasq-base
      (>= 2.46-1), and iptables from Recommends to Depends
    - libvirt-bin Recommends: move qemu to Suggests

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 24 Oct 2011 08:54:14 -0500

libvirt (0.9.6-1ubuntu2) precise; urgency=low

  * debian/patches/lxc-use-own-ptyfns.patch: Re-add dropped patch. 

 -- Chuck Short <zulcss@ubuntu.com>  Fri, 21 Oct 2011 10:30:36 -0400

libvirt (0.9.6-1ubuntu1) precise; urgency=low

  * Merged from debian unstable, remaning changes are:
    - debian/control:
      * set X-Python-Version to 2.7, as 2.6 is not in oneiric.
      * set ubuntu maintainer
      * Build-Depends:
        - remove [linux-any] from all dependencies
        - remove [!linux-any] deps
        - swap  qemu to qemu-kvm and open-iscsi to
          open-iscsi-utils in Build-Depends
        - remove virtualbox-ose Build-Depends
        - add parted and libapparmor-dev Build-Depends
      * convert Vcs-Git to Xs-Debian-Vcs-Git
      * libvirt-bin Depends: move netcat-openbsd, bridge-utils, dnsmasq-base
        (>= 2.46-1), and iptables from Recommends to Depends
      * libvirt-bin Recommends: move qemu to Suggests
      * libvirt-bin Suggests: add apparmor
      * libvirt0 Recommands: move lvm2 to Suggests
    - keep debian/libvirt-bin.apport
    - keep debian/libvirt-bin.cron.daily
    - debian/libvirt-bin.dirs:
      * add apparmor, cron.daily, and apport dirs
    - debian/libvirt-bin.examples:
      * add debian/libvirt-suspendonreboot
    - debian/libvirt-bin.install:
      * add /etc/apparmor.d files
      * add apport hook
    - debian/libvirt-bin.manpages:
      * add debian/libvirt-migrate-qemu-disks.1
    - debian/libvirt-bin.postinst:
      * replace libvirt groupname with libvirtd
      * add each admin user to libvirtd group
      * call apparmor_parser on usr.sbin.libvirtd and
        usr.lib.libvirt.virt-aa-helper
      * call 'libvirt-migrate-qemu-disks -a' after
        libvirt-bin has started if migrating from
        older than 0.8.3-1ubuntu1
    - debian/libvirt-bin.postrm:
      * replace libvirt groupname with libvirtd
      * remove usr.sbin.libvirtd and
        usr.lib.libvirt.virt-aa-helper
    - keep added files under debian/:
      * libvirt-bin.upstart
      * libvirt-migrate-qemu-disks
      * libvirt-migrate-qemu-disks.1
      * libvirt-suspendonreboot
      * apparmor profiles
    - debian/README.Debian:
      * add 'Apparmor Profile' section
      * add 'Disk migration' section
    - debian/rules:
      * move include of debhelper.mk to top of file so DEB_HOST_ARCH_OS
        is defined.
      * don't build with vbox since virtualbox-ose is in universe
        - remove WITH_VBOX, add explicit --without-vbox
      * add --with-apparmor to DEB_CONFIGURE_EXTRA_FLAGS
      * set DEB_DH_INSTALLINIT_ARGS to '--upstart-only'
      * remove unneeded binary-install/libvirt-bin:: and clean::
        sections (they only deal with sysvinit stuff)
      * add build/libvirt-bin:: section to install
        - apparmor files
        - apport hooks
        - libvirt-migrate-qemu-disks
      * dont ship libvirt-guests init script for now.
  * debian/patches/9029-skip-tests.patch: Skip broken tests on ubuntu.
  * debian/patches/series:
    - don't apply Debian-specific Debianize-libvirt-guests.patch (sysvinit only)
    - don't apply Disable qemu-disable-network.diff.patch
  * debian/patches:
    - dropped patches:
      * 9001-dont_clobber_existing_bridges.patch
      * 9026-lp795800.patch
      * 9027-move-apparmor-load-to-genlabel.patch
      * 9028-linux-3-0-no-micro.patch
      * lp810270.patch
      * CVE-2011-2511.patch
      * lxc-do-not-require-ifconfig-or-ip-commands-in-guest.patch
      * 0001-make-ptmx-a-bind-mount-rather-than-symlink.patch
      * arm-startup-fixes.patch
    - keep patches:
      * 9000-delayed_iff_up_bridge.patch
      * 9001-dont_clobber_existing_bridges.patch
      * 9002-better_default_uri_virsh.patch
      * 9003-better-default-arch.patch
      * 9004-libvirtd-group-name.patch
      * 9005-increase-unix-socket-timeout.patch
      * 9006-default-config-test-case.patch
      * 9011-move-ebtables-script.patch
      * 9014-skip-nodeinfotest.patch
      * 9020-lp545795.patch
      * 9021-fix-uint64_t.patch
      * 9026-lp795800.patch
      * libnl3.patch
      * arm-gcc-workaround.patch
      * Disable-gnulib-s-test-nonplocking-pipe.sh.patch

 -- Chuck Short <zulcss@ubuntu.com>  Mon, 17 Oct 2011 12:19:15 +0000


libvirt (0.9.6-1) unstable; urgency=low

  * [828e4e3] New upstream version 0.9.6
  * [59404f4] Use versioned X-Python-Version
  * [0b43f12] Update symbols file
  * [744aaeb] Drop Readd-LFS-support.patch - fixed upstream
  * [f759960] Rediff remaining patches

 -- Guido Günther <agx@sigxcpu.org>  Mon, 26 Sep 2011 23:28:03 +0200

libvirt (0.9.4-2) unstable; urgency=low

  [ Philipp Hahn ]
  * [c9a080d] Build python-libvirt for all python versions (Closes: #628828)

 -- Guido Günther <agx@sigxcpu.org>  Tue, 23 Aug 2011 21:17:55 +0200

libvirt (0.9.4-1) experimental; urgency=low

  * [a92d03e] New upstream version 0.9.4
  * [76f0333] Run tests verbosely to ease error diagnostics
  * [f4e7d0b] Work around ICE on m68k.
    Thanks to Thorsten Glaser
  * [ac6e760] Add directories chown'ed in the postinst.
    Thanks to Houmehr Aghabozorgi for the report (Closes: #636965)
  * [194722a] Simplify netcat probe and adjust testcase output to reduce
    number of failing testcases.
  * [05e5a06] Use libyajl QEMU JSON support
  * [e7934f7] Use libpcap for ip address learning support
  * [6661730] Readd LFS support
  * [17d831b] Don't require gawk for a simple print expression
    (Closes: #636712)

 -- Guido Günther <agx@sigxcpu.org>  Tue, 09 Aug 2011 16:41:24 +0200

libvirt (0.9.4~rc1-1) experimental; urgency=low

  * [0e60a81] New upstream version 0.9.4~rc1
  * [db6dbcc] Suggest radvd needed for IPv6
  * [a9b77e5] Drop Catch-dnsmasq-start-failures.patch applied upstream
  * [b18ac26] Rediff remaining patches
  * [8ee8750] Update symbols

 -- Guido Günther <agx@sigxcpu.org>  Tue, 26 Jul 2011 13:12:57 +0200

libvirt (0.9.3-5) unstable; urgency=low

  * [44874f6] Add directories chown'ed in the postinst.  Thanks to Houmehr
    Aghabozorgi for the report (Closes: #636965)

 -- Guido Günther <agx@sigxcpu.org>  Thu, 11 Aug 2011 08:19:38 +0200

libvirt (0.9.3-4) unstable; urgency=low

  * [db6dbcc] Suggest radvd needed for IPv6
  * [32ac1cf] Work around ICE on m68k. Thanks to Thorsten Glaser.

 -- Guido Günther <agx@sigxcpu.org>  Wed, 27 Jul 2011 21:26:02 +0200

libvirt (0.9.3-3) unstable; urgency=low

  * [6db6929] Catch dnsmasq start failures
  * [0254bfb] Add empty log directories to make logrotate happy
    (Closes: #635239)

 -- Guido Günther <agx@sigxcpu.org>  Sun, 24 Jul 2011 10:51:58 +0200

libvirt (0.9.3-2) unstable; urgency=low

  * Upload to unstable
  * [331afb8] Move build rules to make sure DEB_BUILD_ARCH_OS is properly
    defined.
    Thanks to Serge E. Hallyn
  * [4f3fe1d] Adjust directory permissions to what upstream uses to avoid
    potential information leakage.
    (Closes: #632332)
  * [ab7ad05] Add sanlock dir
  * [bc05a9d] Logrotate logs from HVs other than qemu too
    (Closes: #625746)

 -- Guido Günther <agx@sigxcpu.org>  Sat, 23 Jul 2011 15:28:10 +0200

libvirt (0.9.3-1) experimental; urgency=low

  * [320f8b6] New upstream version 0.9.3 (Closes: #633840)
  * [fff5144] Update symbols
  * [787d91c] Depend on dnsmasq-base, netcat-openbsd and openssh-client for
    "make check"
  * [1fa64b0] Remove article from libvirt-bin description to make lintian
    happy.
  * [3689fc5] Drop patches applied upstream:
    - Skip-nodeinfo-test-on-non-intel-architectures.patch
    - Split-out-dlopen-detection.patch
    - nodeinfo-remove-superfluous-braces.patch
  * [31b17c8] Drop Update-generated-autoconf-files.patch. No need to
    regenerate autoconf for 0.9.3
  * [65871eb] Adjust nc autodetect patch to new socket code
  * [7b0c6df] Disable failing virnetsockettest until investigated further
  * [248bc3f] Rediff remaining patches

 -- Guido Günther <agx@sigxcpu.org>  Sun, 10 Jul 2011 19:43:05 +0200

libvirt (0.9.2-6) unstable; urgency=low

  * [b385504] Disable the testsuite on all architectures except i386 and amd64
    so the current version can move into testing.

 -- Guido Günther <agx@sigxcpu.org>  Mon, 04 Jul 2011 09:14:56 +0200

libvirt (0.9.2-5) unstable; urgency=low

  * [e523120] New patch Disable-gnulib-s-test-nonplocking-pipe.sh.patch.
    Disable gnulib's test-nonplocking-pipe.sh.

 -- Guido Günther <agx@sigxcpu.org>  Sun, 26 Jun 2011 15:57:24 +0200

libvirt (0.9.2-4ubuntu16) precise; urgency=low

  * lxc_controller: use our own unlocpt+grantpt rather than glibc's, which
    can't handle opening a pty in a devpts not mounted at /dev/pts.
    (LP: #863629)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Fri, 14 Oct 2011 10:47:57 -0500

libvirt (0.9.2-4ubuntu15) oneiric; urgency=low

  * Pull patches from upstream which prevent a race between lxc driver and
    controller while a container is started, easily exposed by nova.
    (LP: #842845)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 03 Oct 2011 14:39:05 -0500

libvirt (0.9.2-4ubuntu14) oneiric; urgency=low

  * debian/patches/lp832507.patch: update virt-aa-helper to use the correct
    paths for character devices that are pipes. This can be removed in
    0.9.7. (LP: #832507)

 -- Jamie Strandboge <jamie@ubuntu.com>  Tue, 27 Sep 2011 13:18:28 -0500

libvirt (0.9.2-4ubuntu13) oneiric; urgency=low

  * debian/patches/arm-startup-fies.patch: Fix typo in patch. 
    (LP: #845764) 

 -- Chuck Short <zulcss@ubuntu.com>  Fri, 09 Sep 2011 14:41:53 -0400

libvirt (0.9.2-4ubuntu12) oneiric; urgency=low

  [Serge Hallyn]
  * do not rely on 'ip' or 'ifconfig' commands inside container (LP: #828211)
    Reported and fixed by Scott Moser <smoser@ubuntu.com>.
  * make ptmx a bind mount rather than a symlink (LP: #832123)

  [Chuck Short]
  * debian/arm-startup-fixes.patch: Dont detect DMI information on non-intel
    compatible arches.

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Thu, 01 Sep 2011 09:25:51 -0500

libvirt (0.9.2-4ubuntu11) oneiric; urgency=low

  * debian/patches/Autodetect-if-the-remote-nc-command-supports-the-q-o.patch:
    updated to support target systems where the grep utility has no -q
    option. (LP: #792985)

 -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Tue, 16 Aug 2011 13:30:14 -0400

libvirt (0.9.2-4ubuntu10) oneiric; urgency=low

  * Source /etc/default/libvirt-bin at the upstart 'start' section (LP: #823638)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Mon, 15 Aug 2011 13:00:41 -0500

libvirt (0.9.2-4ubuntu9) oneiric; urgency=low

  * Fix build failure on ARM, working around a GCC issue. LP: #823711.

 -- Matthias Klose <doko@ubuntu.com>  Mon, 15 Aug 2011 16:00:53 +0200

libvirt (0.9.2-4ubuntu8) oneiric; urgency=low

  * Port to libnl3.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 09 Aug 2011 11:36:08 +0100

libvirt (0.9.2-4ubuntu7) oneiric; urgency=low

  * libvirt-bin.upstart: add a pre-stop script to shut down running VMs
    before the host shuts down.  (LP: #350936)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Tue, 02 Aug 2011 19:49:40 -0500

libvirt (0.9.2-4ubuntu6) oneiric; urgency=low

  * SECURITY UPDATE: integer overflow in virDomainGetVcpus()
    - debian/patches/CVE-2011-2511.patch: use INT_MULTIPLY_OVERFLOW() to
      verify maxinfo * maplen < REMOTE_CPUMAPS_MAX
    - this can be dropped in 0.9.2-7/0.9.3
    - CVE-2011-2511

 -- Jamie Strandboge <jamie@ubuntu.com>  Tue, 19 Jul 2011 08:20:20 -0500

libvirt (0.9.2-4ubuntu5) oneiric; urgency=low

  * debian/libvirt-bin.apport: use new apport MAC function instead of
    parsing and attaching AppArmor events here.

 -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Fri, 15 Jul 2011 08:36:56 -0400

libvirt (0.9.2-4ubuntu4) oneiric; urgency=low

  * debian/apparmor/libvirt-qemu: adjust for /dev/shm -> /run/shm transition
  * debian/patches/lp810270.patch: adjust AppArmor profile for /var/run ->
    /run
    - LP: #810270

 -- Jamie Strandboge <jamie@ubuntu.com>  Thu, 14 Jul 2011 08:46:32 -0500

libvirt (0.9.2-4ubuntu3) oneiric; urgency=low

  * Fix /etc/init/libvirt-bin.conf start on to wait until networking.conf
    has stopped with success, meaning ifup -a completed successfully and
    all auto-started network devices are up.  (LP: #495394)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Thu, 07 Jul 2011 10:23:25 -0500

libvirt (0.9.2-4ubuntu2) oneiric; urgency=low

  [ Scott Moser ]
  * 9028-linux-3-0-no-micro.patch: support running libvirt with lxc on linux
    3.0 (LP: #802977)

  [ Jamie Strandboge ]
  * debian/apparmor/usr.sbin.libvirtd: allow ipc_lock

 -- Scott Moser <smoser@ubuntu.com>  Tue, 28 Jun 2011 10:00:54 -0400

libvirt (0.9.2-4ubuntu1) oneiric; urgency=low

  * Merge from debian unstable.  Remaining changes:
    - debian/control:
      * set X-Python-Version to 2.7, as 2.6 is not in oneiric.
      * set ubuntu maintainer
      * Build-Depends:
        - remove [linux-any] from all dependencies
        - remove [!linux-any] deps
        - swap  qemu to qemu-kvm and open-iscsi to
          open-iscsi-utils in Build-Depends
        - remove virtualbox-ose Build-Depends
        - add parted and libapparmor-dev Build-Depends
      * convert Vcs-Git to Xs-Debian-Vcs-Git
      * libvirt-bin Depends: move netcat-openbsd, bridge-utils, dnsmasq-base
        (>= 2.46-1), and iptables from Recommends to Depends
      * libvirt-bin Recommends: move qemu to Suggests
      * libvirt-bin Suggests: add apparmor
      * libvirt0 Recommands: move lvm2 to Suggests
    - keep debian/libvirt-bin.apport
    - keep debian/libvirt-bin.cron.daily
    - debian/libvirt-bin.dirs:
      * add apparmor, cron.daily, and apport dirs
    - debian/libvirt-bin.examples:
      * add debian/libvirt-suspendonreboot
    - debian/libvirt-bin.install:
      * add /etc/apparmor.d files
      * add apport hook
    - debian/libvirt-bin.manpages:
      * add debian/libvirt-migrate-qemu-disks.1
    - debian/libvirt-bin.postinst:
      * replace libvirt groupname with libvirtd
      * add each admin user to libvirtd group
      * call apparmor_parser on usr.sbin.libvirtd and
        usr.lib.libvirt.virt-aa-helper
      * call 'libvirt-migrate-qemu-disks -a' after
        libvirt-bin has started if migrating from
        older than 0.8.3-1ubuntu1
    - debian/libvirt-bin.postrm:
      * replace libvirt groupname with libvirtd
      * remove usr.sbin.libvirtd and
        usr.lib.libvirt.virt-aa-helper
    - keep added files under debian/:
      * libvirt-bin.upstart
      * libvirt-migrate-qemu-disks
      * libvirt-migrate-qemu-disks.1
      * libvirt-suspendonreboot
      * apparmor profiles
    - debian/README.Debian:
      * add 'Apparmor Profile' section
      * add 'Disk migration' section
    - debian/rules:
      * move include of debhelper.mk to top of file so DEB_HOST_ARCH_OS
        is defined.
      * don't build with vbox since virtualbox-ose is in universe
        - remove WITH_VBOX, add explicit --without-vbox
      * add --with-apparmor to DEB_CONFIGURE_EXTRA_FLAGS
      * set DEB_DH_INSTALLINIT_ARGS to '--upstart-only'
      * remove unneeded binary-install/libvirt-bin:: and clean::
        sections (they only deal with sysvinit stuff)
      * add build/libvirt-bin:: section to install
        - apparmor files
        - apport hooks
        - libvirt-migrate-qemu-disks
  * debian/patches/series:
    - don't apply Debian-specific Debianize-libvirt-guests.patch (sysvinit only)
    - don't apply Disable qemu-disable-network.diff.patch
  * debian/patches:
    - dropped patches:
      * 9022-allows-lxc-containers-with-lxcguest.patch (applied upstream)
      * 9023-disable-test-poll.patch
      * 9024-ftbfs-with-arm.patch (doesnt really fix arm just yet)
      * 9025-CVE-2011-2178.patch (applied upstream)
    - keep patches:
      * 9000-delayed_iff_up_bridge.patch
      * 9001-dont_clobber_existing_bridges.patch
      * 9002-better_default_uri_virsh.patch
      * 9003-better-default-arch.patch
      * 9004-libvirtd-group-name.patch
      * 9005-increase-unix-socket-timeout.patch
      * 9006-default-config-test-case.patch
      * 9011-move-ebtables-script.patch
      * 9014-skip-nodeinfotest.patch
      * 9020-lp545795.patch
      * 9021-fix-uint64_t.patch
      * 9026-lp795800.patch

  [ Jamie Strandboge ]
  * 9027-move-apparmor-load-to-genlabel.patch: 0.9.2 introduced a change that
    caused aa_change_profile() to be called before the profile was loaded into
    the kernel. Adjust AppArmorGenSecurityLabel() in
    src/security/security_apparmor.c to load the profile itself, and adjust
    AppArmorSetSecurityAllLabel() to reload the profile when stdin_fn is
    specified. This patch can be removed in 0.9.3. (LP: #801569)

 -- Chuck Short <zulcss@ubuntu.com>  Wed, 22 Jun 2011 11:09:15 -0400

libvirt (0.9.2-4) unstable; urgency=low

  * [398a4dd] New patch Split-out-dlopen-detection.patch.  Explicitly pass
    -ldl since the lock manager needs it.
  * [3be22be] New patch Update-generated-autoconf-files.patch. Update
    generated autoconf files

 -- Guido Günther <agx@sigxcpu.org>  Mon, 13 Jun 2011 19:09:17 +0200

libvirt (0.9.2-3) unstable; urgency=low

  * [008e65d] New patch Skip-nodeinfo-test-on-non-intel-architectures.patch:
    Skip nodeinfo test on non intel architectures since the testfiles assume a
    /proc/cpuinfo specific to this architecture.

 -- Guido Günther <agx@sigxcpu.org>  Sun, 12 Jun 2011 22:00:05 +0200

libvirt (0.9.2-2) unstable; urgency=low

  * [17570fc] Enable OpenVZ on Linux only (Closes: #630099)
  * [31a35bc] New patch nodeinfo-remove-superfluous-braces.patch
    nodeinfo: remove superfluous braces to fix compilation on non intel
    architectures

 -- Guido Günther <agx@sigxcpu.org>  Sat, 11 Jun 2011 18:40:14 +0200

libvirt (0.9.2-1) unstable; urgency=low

  * [c6187ec] New upstream version 0.9.2
  * [368375a] Update netcat detection to new code
  * [e3319ee] Drop security-plug-regression-introduced-in-disk-probe-lo.patch
    applied upstream
  * [a1428a7] Refresh patches
  * [77590ee] Update symbols
  * [0626972] Depend on iproute
  * [a1b211d] Version dependency on iptables and drop
    Disable-CHECKSUM-rule.patch (Closes: #627595)

 -- Guido Günther <agx@sigxcpu.org>  Wed, 08 Jun 2011 16:58:19 +0200

libvirt (0.9.1-2) unstable; urgency=high

  * [4fbc990] New patch security-plug-regression-introduced-in-disk-probe-lo.
    patch (Closes: #629128)
    - Fixes: CVE-2011-2178

 -- Laurent Léonard <laurent@open-minds.org>  Sat, 04 Jun 2011 01:53:43 +0200

libvirt (0.9.1-1ubuntu4) oneiric; urgency=low

  * SECURITY UPDATE: 0.8.8 regression which reopens disk probing
    (CVE-2010-2238). This can be dropped in 0.9.2.
    - 9025-CVE-2011-2178.patch: use correct pointer address in
      virSecurityManagerGetPrivateData()
    - CVE-2011-2178
  * fix virsh save when AppArmor driver is enabled
    - 9026-lp795800.patch: src/security/security_apparmor.c: implement
      AppArmorSetFDLabel(), which is now used by qemuMigrationToFile() if
      our version of qemu supports fd migraton. This can be dropped in 0.9.3.
    - LP: #795800

 -- Jamie Strandboge <jamie@ubuntu.com>  Thu, 16 Jun 2011 14:16:00 -0500

libvirt (0.9.1-1ubuntu3) oneiric; urgency=low

  * debian/patches/9024-ftbfs-with-arm.patch: Fix FTBFS with arm.

 -- Chuck Short <zulcss@ubuntu.com>  Tue, 14 Jun 2011 21:33:15 -0400

libvirt (0.9.1-1ubuntu2) oneiric; urgency=low

  * Depend on libxen-dev rather than libxen3-dev. 

 -- Chuck Short <zulcss@ubuntu.com>  Mon, 13 Jun 2011 12:48:52 -0400

libvirt (0.9.1-1ubuntu1) oneiric; urgency=low

  * Resynchronize and merge from Debian unstable (LP: #794378). Remaining
    changes:
    - debian/control:
      * set X-Python-Version to 2.7, as 2.6 is not in oneiric.
      * set ubuntu maintainer
      * Build-Depends:
        - remove [linux-any] from all dependencies
        - remove [!linux-any] deps
        - swap libxen to libxen3, qemu to qemu-kvm, and open-iscsi to
          open-iscsi-utils in Build-Depends
        - remove virtualbox-ose Build-Depends
        - add parted and libapparmor-dev Build-Depends
      * convert Vcs-Git to Xs-Debian-Vcs-Git
      * libvirt-bin Depends: move netcat-openbsd, bridge-utils, dnsmasq-base
        (>= 2.46-1), and iptables from Recommends to Depends
      * libvirt-bin Recommends: move qemu to Suggests
      * libvirt-bin Suggests: add apparmor
      * libvirt0 Recommands: move lvm2 to Suggests
    - keep debian/libvirt-bin.apport
    - keep debian/libvirt-bin.cron.daily
    - debian/libvirt-bin.dirs:
      * add apparmor, cron.daily, and apport dirs
    - debian/libvirt-bin.examples:
      * add debian/libvirt-suspendonreboot
    - debian/libvirt-bin.install:
      * add /etc/apparmor.d files
      * add apport hook
    - debian/libvirt-bin.manpages:
      * add debian/libvirt-migrate-qemu-disks.1
    - debian/libvirt-bin.postinst:
      * replace libvirt groupname with libvirtd
      * add each admin user to libvirtd group
      * call apparmor_parser on usr.sbin.libvirtd and
        usr.lib.libvirt.virt-aa-helper
      * call 'libvirt-migrate-qemu-disks -a' after
        libvirt-bin has started if migrating from
        older than 0.8.3-1ubuntu1
    - debian/libvirt-bin.postrm:
      * replace libvirt groupname with libvirtd
      * remove usr.sbin.libvirtd and
        usr.lib.libvirt.virt-aa-helper
    - keep added files under debian/:
      * libvirt-bin.upstart
      * libvirt-migrate-qemu-disks
      * libvirt-migrate-qemu-disks.1
      * libvirt-suspendonreboot
      * apparmor profiles
    - debian/README.Debian:
      * add 'Apparmor Profile' section
      * add 'Disk migration' section
    - debian/rules:
      * move include of debhelper.mk to top of file so DEB_HOST_ARCH_OS
        is defined.
      * don't build with vbox since virtualbox-ose is in universe
        - remove WITH_VBOX, add explicit --without-vbox
      * add --with-apparmor to DEB_CONFIGURE_EXTRA_FLAGS
      * set DEB_DH_INSTALLINIT_ARGS to '--upstart-only'
      * remove unneeded binary-install/libvirt-bin:: and clean::
        sections (they only deal with sysvinit stuff)
      * add build/libvirt-bin:: section to install
        - apparmor files
        - apport hooks
        - libvirt-migrate-qemu-disks
  * debian/patches/series:
    - don't apply Disable-CHECKSUM-rule.patch: our iptables can do this
    - don't apply Debian-specific Debianize-libvirt-guests.patch (sysvinit only)
    - don't apply Disable qemu-disable-network.diff.patch
  * debian/patches:
    - drop 9007-fix-daemon-conf-ftbfs.patch (looks like it may be fixed)
    - drop patches applied upstream:
      * 9022-drop-booton-when-kernel-specified.patch
      * 9023-fix-lxc-console-hangup.patch
      * 9024-fix-broken-commandtest.patch
      * 9025-Pass-virSecurityManagerPtr-to-virSecurityDAC-Set-Res.patch
      * 9026-security-avoid-memory-leak.patch
      * 9027-CVE-2011-1146.patch
    - keep patches:
      * 9000-delayed_iff_up_bridge.patch
      * 9001-dont_clobber_existing_bridges.patch
      * 9002-better_default_uri_virsh.patch
      * 9003-better-default-arch.patch
      * 9004-libvirtd-group-name.patch
      * 9005-increase-unix-socket-timeout.patch
      * 9006-default-config-test-case.patch
      * 9011-move-ebtables-script.patch (refreshed)
      * 9014-skip-nodeinfotest.patch (modified to make it apply)
      * 9020-lp545795.patch (modified to make it still apply)
      * 9021-fix-uint64_t.patch
      * 9022-allows-lxc-containers-with-lxcguest.patch (renamed, modified
        to make it still apply, and added DEP-3 tags).
    - new patches:
      * 9023-disable-test-poll.patch - don't run broken test-poll

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 11 May 2011 12:29:51 -0500

libvirt (0.9.1-1) unstable; urgency=low

  * [1546b8c] New upstream version 0.9.1
  * [2418ebf] Rediff patches
  * [d4e2b71] Drop Make-sure-DNSMASQ_STATE_DIR-exists.patch: applied upstream
  * [0fef693] libvirt0: Update symbols
  * [b4ff149] Bump standards version to 3.9.2

 -- Guido Günther <agx@sigxcpu.org>  Tue, 10 May 2011 22:45:11 +0200

libvirt (0.9.0-2) unstable; urgency=low

  * [3a8e07f] New patch Make-sure-DNSMASQ_STATE_DIR-exists.patch
    (Closes: #623536)

 -- Guido Günther <agx@sigxcpu.org>  Mon, 09 May 2011 17:14:02 +0200

libvirt (0.9.0-1) unstable; urgency=low

  * [a91c8f6] New upstream version 0.9.0
  * [1608a8c] Drop patch Make-macros-work-as-rvalues.patch, fixed upstream
  * [85c3f78] Fix test failure caused by our libvirtd.conf changes
  * [0defeee] Fix crashes due to missing initialization of the error system
  * [0a63618] Disable daemon start test for now
  * [1c29d34] Enable testsuite
  * [cf3a26f] Build for Python 2.6 only

 -- Guido Günther <agx@sigxcpu.org>  Sat, 16 Apr 2011 15:26:34 +0200

libvirt (0.9.0~rc2-2) experimental; urgency=low

  * [7da1fd9] New patch Make-macros-work-as-rvalues.patch fixes kFreeBSD build
  * [08c4915] Add support for kFreeBSD (Closes: #612238)

 -- Guido Günther <agx@sigxcpu.org>  Thu, 31 Mar 2011 23:01:58 +0200

libvirt (0.9.0~rc2-1) experimental; urgency=low

  * [77fc1c5] New upstream version 0.9.0~rc2
  * [30ceba5] Drop superflous build-dep on dpkg-dev.
    The affected versions are neither in Lenny, Squeeze nor Sid.
  * [5845bed] Switch to dh_python2 (Closes: #616874)

 -- Guido Günther <agx@sigxcpu.org>  Wed, 30 Mar 2011 14:14:03 +0200

libvirt (0.9.0~rc1-1) experimental; urgency=low

  * [02daf0b] New upstream version 0.9.0~rc1
  * [b4a05a1] Update patches. Drop patches applied upstream:
        Do-not-add-drive-boot-on-param-when-a-kernel-is-spec.patch
        Don-t-pass-empty-arguments-to-dnsmasq.patch
        Make-sure-the-rundir-is-accessible-by-the-user.patch
        upstream/Add-missing-checks-for-read-only-connections.patch
  * [7ff8e58] Update symbols for 0.9.0~rc1

 -- Guido Günther <agx@sigxcpu.org>  Tue, 29 Mar 2011 10:04:54 +0200

libvirt (0.8.8-3) unstable; urgency=low

  * [28df435] Don't create the rundir in the init script. The daemon does this
    now.
  * [7302aff] New patch Make-sure-the-rundir-is-accessible-by-the-user.patch.
    Make sure the rundir is accessible by the user (Closes: #614210)
  * [6dde59d] Recommend dmidecode used by the qemu driver
  * [235f893]  Add missing checks for read only connections.
    As pointed on CVE-2011-1146, some API forgot to check the read-only
    status of the connection for entry point which modify the state
    of the system or may lead to a remote execution using user data.
    The entry points concerned are:
      - virConnectDomainXMLToNative
      - virNodeDeviceDettach
      - virNodeDeviceReAttach
      - virNodeDeviceReset
      - virDomainRevertToSnapshot
      - virDomainSnapshotDelete
     src/libvirt.c: fix the above set of entry points to error on read-only
     connections (Closes: #617773)

 -- Guido Günther <agx@sigxcpu.org>  Mon, 14 Mar 2011 20:06:57 +0100

libvirt (0.8.8-2) unstable; urgency=low

  * [f5fa0d3] initscript: depend on $local_fs (Closes: #616162)
  * [f503698] README.Debian: Mention netcat.openbsd. Thanks to Luca Capello
    for the patch.
  * [9d1ceb0] New patch:
        Do-not-add-drive-boot-on-param-when-a-kernel-is-spec.patch.
    Do not add drive 'boot=on' param when a kernel is specified
    Thanks to Jim Fehlig and Wolfgang Frisch (Closes: #615013)

 -- Guido Günther <agx@sigxcpu.org>  Mon, 07 Mar 2011 21:43:32 +0100

libvirt (0.8.8-1ubuntu8) oneiric; urgency=low

  * Force rebuild to find brctl in its new location.  (LP: #780896)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 11 May 2011 09:41:42 -0500

libvirt (0.8.8-1ubuntu7) oneiric; urgency=low

  * add parted to build-depends (LP: #697046)

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 04 May 2011 19:54:43 -0500

libvirt (0.8.8-1ubuntu6) natty; urgency=low

  * debian/patches/allows-lxc-containers-with-lxcguest.patch:
    Pass "libvirt" to lxc containers, so that libvirt can 
    work with lxcguest. (LP: #757752)

 -- Chuck Short <zulcss@ubuntu.com>  Mon, 11 Apr 2011 13:44:03 -0400

libvirt (0.8.8-1ubuntu5) natty; urgency=low

  * debian/apparmor/usr.sbin.libvirtd: allow read access to '/' (LP: #727286)

 -- Jamie Strandboge <jamie@ubuntu.com>  Fri, 18 Mar 2011 08:02:32 -0500

libvirt (0.8.8-1ubuntu4) natty; urgency=low

  [ Serge Hallyn ]
  * Replace 9024-skip-broken-commandtest.patch with
    9024-fix-broken-commandtest.patch from upstream.

  [ Jamie Strandboge ]
  * debian/patches/9026-security-avoid-memory-leak.patch: avoid memory leaks
    with the security drivers. Can be dropped in 0.8.9.
  * SECURITY UPDATE: debian/patches/9027-CVE-2011-1146.patch: Add missing
    checks for read only connections. Patch from Debian. Can be dropped in
    0.8.8-3.
    - CVE-2011-1146

 -- Jamie Strandboge <jamie@ubuntu.com>  Tue, 15 Mar 2011 11:46:34 -0500

libvirt (0.8.8-1ubuntu3) natty; urgency=low

  * 9025-Pass-virSecurityManagerPtr-to-virSecurityDAC-Set-Res.patch: Fix
    ownership setting of chardevs.

 -- Soren Hansen <soren@ubuntu.com>  Thu, 03 Mar 2011 15:48:45 +0100

libvirt (0.8.8-1ubuntu2) natty; urgency=low

  * debian/control: Demoted package ebtables from Recommends 
    to Suggests for binary package, libvirt-bin. 

 -- Dave Walker (Daviey) <DaveWalker@ubuntu.com>  Tue, 01 Mar 2011 13:46:35 +0000

libvirt (0.8.8-1ubuntu1) natty; urgency=low

  * Resynchronize and merge from Debian unstable. Remaining changes:
    - debian/patches:
      * 9000-delayed_iff_up_bridge.patch
      * 9001-dont_clobber_existing_bridges.patch
      * 9002-better_default_uri_virsh.patch
      * 9003-better-default-arch.patch
      * 9004-libvirtd-group-name.patch
      * 9005-increase-unix-socket-timeout.patch
      * 9006-default-config-test-case.patch
      * 9007-fix-daemon-conf-ftbfs.patch
      * 9011-move-ebtables-script.patch
      * 9014-skip-nodeinfotest.patch
      * 9020-lp545795.patch
      * 9021-fix-uint64_t.patch
    - debian/patches/series:
      * Disable qemu-disable-network.diff.patch
    - debian/control:
      * set ubuntu maintainer
      * Build-Depends:
        - swap libxen to libxen3, qemu to qemu-kvm, and open-iscsi to
          open-iscsi-utils in Build-Depends
        - remove virtualbox Build-Depends
        - add libxml2 and libapparmor-dev Build-Depends
      * convert Vcs-Git to Xs-Debian-Vcs-Git
      * libvirt-bin Depends: move netcat-openbsd, bridge-utils, dnsmasq-base
        (>= 2.46-1), and iptables from Recommends to Depends
      * libvirt-bin Recommends: move qemu to Suggests
      * libvirt-bin Suggests: add apparmor
      * libvirt0 Recommands: move lvm2 to Suggests
    - keep debian/libvirt-bin.apport
    - keep debian/libvirt-bin.cron.daily
    - debian/libvirt-bin.dirs:
      * add apparmor, cron.daily, and apport dirs
    - debian/libvirt-bin.examples:
      * add debian/libvirt-suspendonreboot
    - debian/libvirt-bin.install:
      * add /etc/apparmor.d files
      * add apport hook
    - debian/libvirt-bin.manpages:
      * add debian/libvirt-migrate-qemu-disks.1
    - debian/libvirt-bin.postinst:
      * replace libvirt groupname with libvirtd
      * add each admin user to libvirtd group
      * call apparmor_parser on usr.sbin.libvirtd and
        usr.lib.libvirt.virt-aa-helper
      * call 'libvirt-migrate-qemu-disks -a' after
        libvirt-bin has started if migrating from
        older than 0.8.3-1ubuntu1
    - debian/libvirt-bin.postrm:
      * replace libvirt groupname with libvirtd
      * remove usr.sbin.libvirtd and
        usr.lib.libvirt.virt-aa-helper
    - keep added files under debian/:
      * libvirt-bin.upstart
      * libvirt-migrate-qemu-disks
      * libvirt-migrate-qemu-disks.1
      * libvirt-suspendonreboot
      * apparmor profiles
    - debian/README.Debian:
      * add 'Apparmor Profile' section
      * add 'Disk migration' section
    - debian/rules:
      * don't build with vbox since virtualbox-ose is in universe
      * add --with-apparmor to DEB_CONFIGURE_EXTRA_FLAGS
      * set DEB_DH_INSTALLINIT_ARGS to '--upstart-only'
      * set DEB_MAKE_CHECK_TARGET to 'check'
      * remove unneeded binary-install/libvirt-bin:: and clean::
        sections (they only deal with sysvinit stuff)
      * add build/libvirt-bin:: section to install
        - apparmor files
        - apport hooks
        - libvirt-migrate-qemu-disks
  * The following Ubuntu packaging changes occurred during the divergence
    between Debian and Ubuntu. These changes are not new, but included here
    for completeness: (0.8.5-0ubuntu1 - 0.8.5-0ubuntu5):
    - Have upstart job source /etc/default/libvirt-bin.  This is only a
      temporary fix until upstart provides proper default override support
      through /etc/init/libvirt-bin.override (or any other mechanism).
      (LP: 708172)
    - debian/apparmor/usr.sbin.libvirtd: use PUx instead of Ux for executables
      (LP: 573315)
    - Rebuild with python 2.7 as the python default.
    - debian/libvirt-bin.cron.daily: use shell globbing to enumerate xml files.
      Based on patch thanks to Henryk Plötz (LP: 655176)
  * Dropped the following patches included/fixed upstream:
    - 9010-dont-disable-ipv6.patch
    - 9022-build-cleanup-declaration-of-xen-tests.patch
    - 9023-vah-require-uuid.patch
    - 9009-autodetect-nc-params.patch
      * rolled into Debian's
        Autodetect-if-the-remote-nc-command-supports-the-q-o.patch
  * Updated the following patches:
    - 9011-move-ebtables-script.patch:
      * LOCALSTATEDIR is defined in configmake.h
    - 9000-9006: added DEP-3 tags
    - 9002-better_default_uri_virsh.patch: updated (context changed)
  * New patches:
    - 9022-drop-booton-when-kernel-specified.patch (LP: #720426)
    - 9023-fix-lxc-console-hangup.patch (LP: #668369)
    - 9024-skip-broken-commandtest.patch
  * debian/patches/series:
    - don't apply Disable-CHECKSUM-rule.patch: our iptables can do this
    - don't apply Debian-specific Debianize-libvirt-guests.patch

 -- Serge Hallyn <serge.hallyn@ubuntu.com>  Wed, 23 Feb 2011 09:05:46 -0600

libvirt (0.8.8-1) unstable; urgency=low

  [ Guido Günther ]
  * [6a174b7] Remove symbol versions that didn't introduce new public symbols
    and mark those as missing.

  [ Laurent Léonard ]
  * [d9e4cad] Imported Upstream version 0.8.8
  * [d5ae8aa] Drop patches
    - build-let-xgettext-see-strings-in-libvirt-guests.patch - fixed upstream
    - libvirt-guests-remove-bashisms.patch - fixed upstream
  * [d5990df] Update libvirt0 symbols

 -- Laurent Léonard <laurent@open-minds.org>  Tue, 22 Feb 2011 01:58:55 +0100

libvirt (0.8.7-3) unstable; urgency=low

  * [e6c5184] New patch Don-t-pass-empty-arguments-to-dnsmasq.patch: Don't
    pass empty arguments to dnsmasq
    Thanks to Simon McVittie for the detailed description (Closes: #613944)
  * [8887de6] Add gbp.conf

 -- Guido Günther <agx@sigxcpu.org>  Fri, 18 Feb 2011 15:49:44 +0100

libvirt (0.8.7-2) unstable; urgency=low

  [ Laurent Léonard ]
  * [aa3b6a0] Add gettext-base dependency for libvirt-bin.  Since
    libvirt-guests now needs it.
  * [bb7dbde] Add non dependency booting support for libvirt-guests

  [ Guido Günther ]
  * Upload to unstable
  * [f2fdde0] libvirt-bin.init: add cgconfig to Should-Start.
    This ensures we reliably process cgroups before starting libvirtd
    (Closes: #610738)
  * [261f679] libvirt-bin.init: Add hal and avahi to Should-Stop
    to make Should-Start and Should-Stop symmetric.

 -- Guido Günther <agx@sigxcpu.org>  Sat, 12 Feb 2011 15:10:48 +0100

libvirt (0.8.7-1) experimental; urgency=low

  [ Guido Günther ]
  * [f561b2e] New patch 0010-nwfilter-resolve-deadlock-between-VM-
    operations-and-.patch nwfilter: resolve deadlock between VM
    operations and filter update (Closes: #602715)

  [ Laurent Léonard ]
  * [6f95d48] Fix exit status codes in libvirt init script to comply
    with LSB
  * [7d7aed4] New patch 0010-Debianize-libvirt-guests.patch
  * [a7f4bed] Install libvirt-guests
  * [6408c57] Remove libvirt-suspendonreboot
  * [3466195] Imported Upstream version 0.8.7
  * [18bb43a] Update libvirt0 symbols
  * [d8e02ad] Fix typo in --with-init-script build option
  * [676a47e] New patch 0008-libvirt-guests-remove-bashisms.patch
  * [3a03ea6] New patch 0009-build-let-xgettext-see-strings-in-libvirt-
    guests.patch
  * [ee3d2e0] Update patch 0010-Debianize-libvirt-guests.patch
  * [904de70] Update libvirt-guests init script location

 -- Laurent Léonard <laurent@open-minds.org>  Tue, 18 Jan 2011 18:43:56 +0100

libvirt (0.8.6-1) experimental; urgency=low

  * [3b7b682] Imported Upstream version 0.8.6
  * [5b081c3] Drop patch
    - 0008-Move-MAX_VIRT_CPUS-so-all-xen-code-can-see-it.patch - fixed upstream
  * [38589e6] Update libvirt0 symbols

 -- Laurent Léonard <laurent@open-minds.org>  Tue, 30 Nov 2010 23:31:59 +0100

libvirt (0.8.5-1) experimental; urgency=low

  [ Laurent Léonard ]
  * [6e46f0e] Fix wrong regular expression in debian/watch
  * [802e658] Imported Upstream version 0.8.5
  * [c8e4517] Update patch 0002-qemu-disable-network.diff.patch
  * [5549d65] Drop patch
    - 0009-Don-t-fail-lxc-domain-start-when-memory-controller-s.patch - fixed
      upstream
  * [1af66c1] Update libvirt0 symbols

  [ Guido Günther ]
  * [fc234c4] New patch 0008-Move-MAX_VIRT_CPUS-so-all-xen-code-can-see-
    it.patch. Move MAX_VIRT_CPUS so all xen code can see it

 -- Laurent Léonard <laurent@open-minds.org>  Mon, 15 Nov 2010 14:09:53 +0100

libvirt (0.8.4-1) experimental; urgency=low

  [ Laurent Léonard ]
  * [49a581b] Imported Upstream version 0.8.4
  * [e1dc0c7] Redo patches
  * [cce7327] Update libvirt0 symbols

  [ Guido Günther ]
  * [bd91614] Drop 0007-Fix-block-statistics-with-newer-versions-of-
    Xen.patch fixed upstream.

 -- Guido Günther <agx@sigxcpu.org>  Wed, 29 Sep 2010 15:29:48 +0200

libvirt (0.8.3-6~1.gbpca2348) UNRELEASED; urgency=low

  ** SNAPSHOT build @ca2348476605efc4d067933f136ffdae3cf44283 **

  [ Laurent Léonard ]
  * [6e46f0e] Fix wrong regular expression in debian/watch
  * [6f95d48] Fix exit status codes in libvirt init script to comply with LSB

 -- Guido Günther <agx@sigxcpu.org>  Sat, 15 Jan 2011 13:55:42 +0100

libvirt (0.8.3-5) unstable; urgency=low

  [ Laurent Léonard ]
  * [6e46f0e] Fix wrong regular expression in debian/watch

  [ Guido Günther ]
  * [f561b2e] New patch 0010-nwfilter-resolve-deadlock-between-VM-
    operations-and-.patch nwfilter: resolve deadlock between VM operations and
    filter update (Closes: #602715)
  * [91a1b8d] New patch 0011-OpenVZ-take-veid-from-vmdef-name-when-
    defining-new-d.patch: Fixes OpenVZ domain creation (Closes: #592817) -
    thanks to Eric Litak.
  * [3d3f395] New patch 0012-OpenVZ-Fix-some-overwritten-error-codes.patch:
    Improve error reporting.

 -- Guido Günther <agx@sigxcpu.org>  Wed, 01 Dec 2010 15:12:48 +0100

libvirt (0.8.3-4) unstable; urgency=low

  * [29e8714] Recommend ebtables used by nwfilter
  * [e9eb650] New patch
    0009-Don-t-fail-lxc-domain-start-when-memory-controller-s.patch - Don't
    fail lxc domain start when memory controller support is missing (Closes:
    #566180)

 -- Guido Günther <agx@sigxcpu.org>  Mon, 01 Nov 2010 14:22:09 +0100

libvirt (0.8.3-3) unstable; urgency=low

  * [178670a] Add $syslog to the list of Required-{Start,Stop} services also
    drop $local_fs since we already have $remote_fs
  * [4db7451] Don't hardcode netcat's -q option. (Closes: #573172) - thanks to
    Marc Deslauriers for the patch
  * [d4c46ee] Disable CHECKSUM rules not supported by Squeeze's iptables
    (Closes: #598330)
  * [dbc2609] Move new NEWS items to the top

 -- Guido Günther <agx@sigxcpu.org>  Wed, 06 Oct 2010 19:47:46 +0200

libvirt (0.8.3-2) unstable; urgency=low

  * [4097bbd] New patch 0007-Fix-block-statistics-with-newer-versions-
    of-Xen.patch. Fix block statistics with newer versions of Xen 
    (Closes: #596004) - thanks to Gerald Turner for the patch
  * [d554da3] Explain disk image probing changes (Closes: #594962)

 -- Guido Günther <agx@sigxcpu.org>  Wed, 29 Sep 2010 14:00:38 +0200

libvirt (0.8.3-1ubuntu14) maverick; urgency=low

  * Let Apparmor allow libvirtd to create PF_PACKET sockets. Several
    utility functions require it. Of particular interest, the NWFilter
    code uses it, so libvirt's firewalling functionality depends on
    this. (LP: #646706)

 -- Soren Hansen <soren@ubuntu.com>  Fri, 24 Sep 2010 23:36:36 +0200

libvirt (0.8.3-1ubuntu13) maverick; urgency=low

  * debian/patch/9028-lp628055.patch: include sys/stat.h to fix compiler
    warning and stat() failure on 32bit architectures when calling stat() on
    large files. This can be dropped in 0.8.5. (LP: #628055)

 -- Jamie Strandboge <jamie@ubuntu.com>  Wed, 22 Sep 2010 15:21:21 -0500

libvirt (0.8.3-1ubuntu12) maverick; urgency=low

  * 9027-Make-newfilter-xml-transformations-endian-safe.patch
    NWFilter XML processing includes endian assumptions.  Ensure
    that XML is parsed in an endian-safe manner.  Thanks to
    Stefan Berger for developing the patch upstream. (LP: #643394)

 -- Emmet Hikory <persia@ubuntu.com>  Mon, 20 Sep 2010 19:18:11 +0900

libvirt (0.8.3-1ubuntu11) maverick; urgency=low

  * 9026-Rebuild-network-filter-for-UML-guests-on-updates.patch.
    NWFilter updates are supposed to be immediate. Add this support to
    the UML driver.

 -- Soren Hansen <soren@ubuntu.com>  Wed, 15 Sep 2010 22:11:57 +0200

libvirt (0.8.3-1ubuntu10) maverick; urgency=low

  [ Jamie Strandboge ]
  * debian/apparmor/usr.lib.virt-aa-helper: add read access to new 'loader'
    for eucalyptus (LP: #637544)

  [ Soren Hansen ]
  * Add 9025-Add-nwfilter-support-to-UML-driver.patch. Adds missing
    nwfilter support to UML.

 -- Jamie Strandboge <jamie@ubuntu.com>  Tue, 14 Sep 2010 13:47:02 -0500

libvirt (0.8.3-1ubuntu9) maverick; urgency=low

  * Update 9023-Support-virDomainAttachDevice-and-virDomainDetachDev.patch
    based on a small last-minute change upstream.
  * Add 9024-Explicitly-pass-uml_dir-argument-to-user-mode-linux.patch
    to stop user-mode-linux domains running under a libvirtd run by
    upstart from mysteriously and silently crashing during boot.

 -- Soren Hansen <soren@ubuntu.com>  Tue, 31 Aug 2010 16:05:24 +0200

libvirt (0.8.3-1ubuntu8) maverick; urgency=low

  * debian/patches/9009-autodetect-nc-params.patch: updated to fix
    connecting to a remote server when using zsh or tcsh. (LP: #605172)

 -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Wed, 25 Aug 2010 12:41:25 -0400

libvirt (0.8.3-1ubuntu7) maverick; urgency=low

  * debian/patches/series: per Ubuntu Server team, run qemu/kvm as non-root
    and comment out 9008-run-as-root-by-default.patch. This has now received
    significant testing in Debian, adds a good security benefit for people
    who disable AppArmor and fixes the libvirt portion of LP: #619843. With
    this patch removed, libvirt will default to the Debian configure arguments
    and run qemu/kvm VMs as 'libvirt-qemu:kvm'.
  * debian/README.Debian: adjusted for the above

 -- Jamie Strandboge <jamie@ubuntu.com>  Tue, 24 Aug 2010 12:58:51 -0500

libvirt (0.8.3-1ubuntu6) maverick; urgency=low

  * FFe: LP: #622682.
  * Replace 9019-Remove-wrong-check-for-uml-monitor-response-size.patch with
    9019-uml-fix-logic-bug-in-checking-reply-length.patch which is what ended
    up getting applied upstream.
  * Add the following patches taken from upstream git:
    - 9021-Allow-chardev-of-type-file-for-UML-domains.patch
    - 9022-Rename-qemudShrinkDisks-to-virDomainDiskRemove-and-m.patch
    - 9023-Support-virDomainAttachDevice-and-virDomainDetachDev.patch

 -- Soren Hansen <soren@ubuntu.com>  Mon, 23 Aug 2010 14:24:06 +0200

libvirt (0.8.3-1ubuntu5) maverick; urgency=low

  * update to allow pcidev and hostdev to work with AppArmor (LP: #545795)
    - debian/patches/lp-545795.patch: add vendor and device to
      pciDeviceFileIterate(). Patch submitted upstream and they feel it is
      reasonable, but not committed yet. This should fix pcidev.
    - debian/apparmor/usr.lib.libvirt.virt-aa-helper: add read access to
      /sys/bus/usb/devices/**
    - debian/apparmor/libvirt-qemu: adjust read access to be
      /sys/devices/**/usb[0-9]*/** instead of /sys/devices/*/*/usb[0-9]*/**.
      Patched based on work by Andreas Ntaflos.

 -- Jamie Strandboge <jamie@ubuntu.com>  Fri, 20 Aug 2010 09:21:15 -0500

libvirt (0.8.3-1ubuntu4) maverick; urgency=low

  * debian/patches/9012-apparmor-dont-ignore-open.patch: don't bother with
    updated logic. After review, upstream's code is sufficient and simpler.
    Keep new tests and rename to 9012-apparmor-extra-tests.patch. This can be
    removed in 0.8.4.
  * debian/patches/9013-apparmor-lp457716.patch: updated based on upstream
    feedback. This can be removed in 0.8.4.

 -- Jamie Strandboge <jamie@ubuntu.com>  Mon, 16 Aug 2010 16:11:40 -0500

libvirt (0.8.3-1ubuntu3) maverick; urgency=low

  * Added the following patches:
    - 9015-Add-ubd-to-the-list-of-disk-prefixes.patch.
    - 9016-Close-fd-s-of-persistent-tap-devices.patch.
    - 9017-Make-sure-all-command-line-arguments-get-passed-to-U.patch.
    - 9018-Make-umlConnectTapDevice-ask-brAddTap-for-a-persiste.patch.
    - 9019-Remove-wrong-check-for-uml-monitor-response-size.patch
  * All but the last are already in upstream git. Together, they make
    user-mode-linux guests work again.
  * Note: The last patch in the list is still being reviewed upstream.
    Depending on the outcome, I'll update here accordingly.

 -- Soren Hansen <soren@ubuntu.com>  Mon, 16 Aug 2010 13:33:23 +0200

libvirt (0.8.3-1ubuntu2) maverick; urgency=low

  * debian/patches/9014-skip-nodeinfotest.patch: fix FTBFS in nodeinfotest
    which is still broken on armel

 -- Jamie Strandboge <jamie@ubuntu.com>  Fri, 13 Aug 2010 08:12:23 -0500

libvirt (0.8.3-1ubuntu1) maverick; urgency=low

  * Merge from debian unstable with security fixes
  * Fixes:
    - LP: #588369
    - LP: #585964
  * Remaining changes:
    - debian/control:
      + Build-Depends on qemu-kvm, not qemu
      + Build-Depends on open-iscsi-utils, not open-iscsi
      + Build-Depends on libxml2-utils
      + Build-Depends on libapparmor-dev and Suggests apparmor
      + Bump bridge-utils, dnsmasq-base, netcat-openbsd, and iptables
        to Depends of libvirt-bin
      + Drop lvm2, qemu-kvm and qemu to Suggests
      + We call libxen-dev libxen3-dev, so change all references
      + Rename Vcs-* to XS-Debian-Vcs-*
    - debian/libvirt-bin.postinst:
      + rename the libvirt group to libvirtd
      + add each admin user to the libvirtd group
      + reload apparmor profiles
    - debian/libvirt-bin.postrm:
      + rename the libvirt group to libvirtd
      + remove apparmor symlinks on purge
    - debian/README.Debian: add AppArmor section based on the upstream
      documentation
    - debian/rules:
      + update DEB_DH_INSTALLINIT_ARGS for upstart
      + add DEB_MAKE_CHECK_TARGET := check
      + use --with-apparmor
      + copy apparmor and apport hook to debian/tmp
    - add debian/libvirt-bin.upstart
    - debian/libvirt-bin.dirs: add /etc/apparmor.d/abstractions,
      /etc/apparmor.d/disable, /etc/apparmor.d/force-complain,
      /etc/apparmor.d/libvirt, /etc/cron.daily and
      /usr/share/apport/package-hooks
    - add debian/libvirt-bin.cron.daily
    - add debian/libvirt-bin.apport
    - debian/libvirt-bin.install: install apparmor profiles, abstractions
      and apport hook
    - debian/apparmor:
      - add TEMPLATE
      - add libvirt-qemu abstraction
      - add usr.lib.libvirt.virt-aa-helper
      - add usr.sbin.libvirtd
    - debian/patches/series:
      + don't apply 0002-qemu-disable-network.diff.patch
      + don't apply 0005-Terminate-nc-on-EOF.patch. Use
        9009-autodetect-nc-params.patch instead
      + 9000-delayed_iff_up_bridge.patch (refreshed)
      + 9001-dont_clobber_existing_bridges.patch
      + 9002-better_default_uri_virsh.patch (refreshed)
      + 9003-better-default-arch.patch (refreshsed)
      + 9004-libvirtd-group-name.patch
      + 9005-increase-unix-socket-timeout.patch (refreshed)
      + 9006-default-config-test-case.patch
      + 9007-fix-daemon-conf-ftbfs.patch (updated)
      + 9008-run-as-root-by-default.patch (refreshed)
      + 9009-autodetect-nc-params.patch (refreshed)
      + 9010-dont-disable-ipv6.patch (refreshsed)
      + 9011-move-ebtables-script.patch (refreshed)
  * Dropped the following patches included/fixed upstream:
    - 9012-fix-nodeinfotest-ftbfs.patch
    - 9013-apparmor-lp457716.patch
  * Disable virtualbox support since virtualbox-ose is not in main
    - debian/control: remove virtualbox-ose build dependency
    - debian/rules: use --without-vbox
  * debian/patches/9012-apparmor-dont-ignore-open.patch: fix logic when
    using virDomainDiskDefForeachPath() and add tests. This can be removed
    in 0.8.4.
  * debian/apparmor/usr.sbin.libvirtd: add capability fsetid (LP: #613549)
  * debian/apparmor/usr.lib.libvirt.virt-aa-helper: allow access to
    @{PROC}/[0-9]*/net/psched
  * debian/patches/9013-apparmor-chardev.patch: update for serial, parallel
    and channels. This can be removed in 0.8.4. (LP: #609055, LP: #578527)
  * migrate virtual machine definitions with non-raw disks and previously
    unspecified disk format with a one time probe:
    - add debian/libvirt-migrate-qemu-disks
    - add debian/libvirt-migrate-qemu-disks.1
    - debian/libvirt-bin.postinst: updated to run 'libvirt-migrate-qemu-disks
      -a' on upgrades
    - debian/rules: cp debian/libvirt-migrate-qemu-disks into place
    - debian/libvirt-bin.manpages: install debian/libvirt-migrate-qemu-disks.1
    - debian/README.Debian: updated for libvirt-migrate-qemu-disks

 -- Jamie Strandboge <jamie@ubuntu.com>  Thu, 12 Aug 2010 17:00:59 -0500

libvirt (0.8.3-1) unstable; urgency=low

  [ Guido Günther ]
  * Mention clear_emulator_capabilities
  * Recommend iptables and gawk

  [ Laurent Léonard ]
  * Imported Upstream version 0.8.3
    - Fixes: CVE-2010-2237, CVE-2010-2238, CVE-2010-2239, CVE-2010-2242
  * Redo patches
  * Update libvirt0 symbols
  * Bump Standards-Version to 3.9.1

  [ Guido Günther ]
  * Install libvirt-qemu library
  * Add libvirt-qemu.so symbols

  [ Laurent Léonard ]
  * Fix debian/NEWS syntax

 -- Laurent Léonard <laurent@open-minds.org>  Fri, 06 Aug 2010 17:18:55 +0200

libvirt (0.8.2-1) unstable; urgency=low

  * Imported Upstream version 0.8.2
  * Drop patches.
  * Update libvirt0 symbols.
  * Bump Standards-Version to 3.9.0.
  * Add virtualbox-ose and libnl-dev build dependencies.

 -- Laurent Léonard <laurent@open-minds.org>  Tue, 06 Jul 2010 12:14:33 +0200

libvirt (0.8.1-2ubuntu1) maverick; urgency=low

  * Merge from debian unstable. Remaining changes:
    - Fixes:
      LP: #522845
      LP: #553737
      LP: #520386
    - debian/control:
      + Build-Depends on qemu-kvm, not qemu
      + Build-Depends on open-iscsi-utils, not open-iscsi
      + Build-Depends on libxml2-utils
      + Build-Depends on libapparmor-dev and Suggests apparmor
      + Bump bridge-utils, dnsmasq-base, netcat-openbsd, and iptables
        to Depends of libvirt-bin
      + Drop qemu-kvm and qemu to Suggests
      + We call libxen-dev libxen3-dev, so change all references
      + Rename Vcs-* to XS-Debian-Vcs-*
    - debian/libvirt-bin.postinst:
      + rename the libvirt group to libvirtd
      + add each admin user to the libvirtd group
      + reload apparmor profiles
    - debian/libvirt-bin.postrm:
      + rename the libvirt group to libvirtd
      + remove apparmor symlinks on purge
    - debian/README.Debian: add AppArmor section based on the upstream
      documentation
    - debian/rules:
      + update DEB_DH_INSTALLINIT_ARGS for upstart
      + add DEB_MAKE_CHECK_TARGET := check
      + use --with-apparmor
      + copy apparmor and apport hook to debian/tmp
    - add debian/libvirt-bin.upstart
    - debian/libvirt-bin.dirs: add /etc/apparmor.d/abstractions,
      /etc/apparmor.d/disable, /etc/apparmor.d/force-complain,
      /etc/apparmor.d/libvirt, /etc/cron.daily and
      /usr/share/apport/package-hooks
    - add debian/libvirt-bin.cron.daily
    - add debian/libvirt-bin.apport
    - debian/libvirt-bin.install: install apparmor profiles, abstractions
      and apport hook
    - debian/apparmor:
      - add TEMPLATE
      - add libvirt-qemu abstraction
      - add usr.lib.libvirt.virt-aa-helper
      - add usr.sbin.libvirtd
    - debian/patches/series:
      + don't apply 0002-qemu-disable-network.diff.patch
      + don't apply 0005-Terminate-nc-on-EOF.patch. Use
        9010-autodetect-nc-params.patch instead
      + 9000-delayed_iff_up_bridge.patch (refreshed)
      + 9001-dont_clobber_existing_bridges.patch
      + 9002-better_default_uri_virsh.patch (updated)
      + 9004-better-default-arch.patch
      + 9005-libvirtd-group-name.patch
      + 9006-increase-unix-socket-timeout.patch (refreshed)
      + 9007-default-config-test-case.patch (updated)
      + 9008-fix-daemon-conf-ftbfs.patch (rewritten)
      + 9009-run-as-root-by-default.patch (refreshed)
      + 9010-autodetect-nc-params.patch (refreshed, formerly 9015)
      + 9011-dont-disable-ipv6.patch (updated)
  * Dropped following packaging changes, no longer required with upgrades
    from Lucid:
    - debian/control:
      + versioned Conflicts/Replaces to libvirt0 for libvirt0-dbg
      + remove Build-Depends on libcap-ng-dev
    - debian/libvirt-bin.postinst: virt-aa-helper profile migration to
      /usr/lib/libvirt
    - debian/libvirt-bin.preinst: added to force complain on certain
      upgrades
  * Dropped the following patches, included upstream:
    - 0010-Use-base-16-for-product-vendor.patch
    - 9003-increase-logoutput-timeout.patch
    - 9010-apparmor-ftbfs.patch
    - 9011-node_device_driver.patch
    - 9012-dont-crash-on-restart.patch
    - 9013-apparmor-dont-clear-caps.patch
    - 9014-apparmor-remove-unloaded-profile-is-not-fatal.patch
    - 9016-disk-cache-setting-xml.patch
    - 9018-fix-pty-console.patch
    - 9019-apparmor-fix-xauth.patch
    - 9020-apparmor-fix-backingstore.patch
    - 9021-apparmor-fix-hostdev.patch
    - 9022-dont-leak-log-fd.path.patch
    - 9023-virt-pki-validate_fixes.patch
    - 9024-free-memory-for-invalid-devices.patch (use
      0008-Fix-leaks-in-udev-device-add-remove.patch from Debian)
  * debian/apparmor/usr.lib.libvirt.virt-aa-helper: allow access to ecryptfs
    files (LP: #591769)
  * debian/patches/9012-fix-nodeinfotest-ftbfs.patch: fix FTBFS in
    nodeinfotest. Drop in 0.8.2.
  * debian/patches/9013-apparmor-lp457716.patch: properly support/save and
    restore (LP: #457716). Drop in 0.8.2.
  * debian/apparmor/libvirt-qemu: remove workaround for LP: #457716
  * don't create and run ebtables script in /tmp:
    - debian/apparmor/usr.sbin.libvirt: allow ixr to /var/lib/libvirt/virtd*
      for new ebtables functionality added in 0.8.0
    - debian/patches/9014-move-ebtables-script.patch: update
      nwfilter_ebiptables_driver.c /var/lib/libvirt to use /var/lib/libvirt
      instead of /tmp

 -- Jamie Strandboge <jamie@ubuntu.com>  Wed, 16 Jun 2010 14:22:39 -0500

libvirt (0.8.1-2) unstable; urgency=low

  * [41aea79] Drop patchsys-quilt since this package is 3.0 (quilt) now.
    (Closes: #577919)
  * [978e3c9] libvirt-bin.init: export PATH. (Closes: #584333)
  * [e4f0869] virt-xml-validate needs xmllint from libxml2-utils.
    (Closes: #584869)
  * [bba6d72] New patch 0008-Fix-leaks-in-udev-device-add-remove.patch:
    Fix leaks in udev device add/remove. (Closes: #582965) - thanks to
    Nigel Jones for forwarding this

 -- Guido Günther <agx@sigxcpu.org>  Mon, 07 Jun 2010 18:23:47 +0200

libvirt (0.8.1-1) unstable; urgency=low

  * [647cbd6] Imported Upstream version 0.8.1
        * fixes spurious syslog messages (Closes: #565275)
        * sysfs USB class parsing (Closes: #579208)
        * virsh honors $VISUAL (Closes: #574415)
  * [fecd1b9] Update libvirt symbols to 0.8.1
  * [3e58e0b] Drop patches merged upstream:
        * 0007-nwfilter-Don-t-crash-if-driverState-NULL.patch
        * 0008-Ignore-empty-type-statement-in-disk-element.patch
  * [561ab2e] New patch:
        * 0007-patch-qemuMonitorTextGetMigrationStatus-to-intercept.patch:
          make qemuMonitorTextGetMigrationStatus to intercept unknown
          command 'info migrate' (Closes: #574272) - thanks to Andreas Bießmann
  * [aeda8ea] Enanble macvtap support

 -- Guido Günther <agx@sigxcpu.org>  Sun, 09 May 2010 14:25:00 +0200

libvirt (0.8.0-2) unstable; urgency=low

  * [70fbcb6] New patch 0007-nwfilter-Don-t-crash-if-driverState- NULL.patch
    nwfilter: Don't crash if driverState == NULL (Closes: #577728)
  * [d7d1abd] New patch 0008-Ignore-empty-type-statement-in-disk-
    element.patch Ignore empty type statement in disk element
    (Closes: #578347)

 -- Guido Günther <agx@sigxcpu.org>  Mon, 19 Apr 2010 18:11:57 +0200

libvirt (0.8.0-1) unstable; urgency=low

  * Imported Upstream version 0.8.0
  * Drop patches.
  * Update libvirt0 symbols.
  * Switch to new source format 3.0 (quilt).

 -- Laurent Léonard <laurent@open-minds.org>  Tue, 13 Apr 2010 20:50:29 +0200

libvirt (0.7.7-4) unstable; urgency=low

  [ Guido Günther ]
  * [cf4919c] Recommend either qemu-kvm or qemu

  [ Laurent Léonard ]
  * [1b12f02] Change libparted1.8-dev build dependency to libparted0- dev.
    (Closes: #574906)

 -- Guido Günther <agx@sigxcpu.org>  Mon, 22 Mar 2010 20:50:30 +0100

libvirt (0.7.7-3) unstable; urgency=low

  * The "fix all those crashes" release
  * [f74e13a] Explicitly disable hal (Closes: #574177)
  * [21ef92b] New patch 0009-security-Set-permissions-for-kernel- initrd.patch
    security: Set permissions for kernel/initrd (Closes: #574241) - thanks to
    Cole Robinson
  * [b69d3cc] Revert "Enable NUMA support" since it breaks the python
    bindings.
  * [5f2ca4a] New patch 0010-Don-t-crash-without-a-security-driver.patch Don't
    crash without a security driver (Closes: #574359)

 -- Guido Günther <agx@sigxcpu.org>  Wed, 17 Mar 2010 21:05:35 +0100

libvirt (0.7.7-2) unstable; urgency=low

  [ Guido Günther ]
  * [b350683] Enable parallel build
  * [b2a6aab] Enable NUMA support
  * [13274cf] New patch 0007-Work-around-broken-linux-socket.h.patch
    Work around broken linux/socket.h

  [ Laurent Léonard ]
  * [3c12caf] qemu: Fix USB by product with security enabled.

 -- Laurent Léonard <laurent@open-minds.org>  Tue, 16 Mar 2010 00:47:34 +0100

libvirt (0.7.7-1) unstable; urgency=low

  * [f944460] Imported Upstream version 0.7.7
  * [bd457cc] Redo patches.
  * [098d1d3] Update libvirt0 symbols.

 -- Laurent Léonard <laurent@open-minds.org>  Fri, 05 Mar 2010 17:49:17 +0100

libvirt (0.7.6-2) unstable; urgency=low

  * [72790fc] Drop hal dependency We're using udev for device enumeration.
  * [ce225c4][11cc6e9] New patch
    0006-Don-t-drop-caps-when-exec-ing-qemu.patch: Don't drop caps when
    exec'ing qemu. Instead of disabling libcap-ng better exclude this one exec
    so we get the additional security for the rest of the calls. Makes
    interface type="network" work again. (Closes: #565767)

 -- Guido Günther <agx@sigxcpu.org>  Sun, 14 Feb 2010 18:22:30 +0100

libvirt (0.7.6-1) unstable; urgency=low

  * [0229557] Imported Upstream version 0.7.6
  * [6fdc00b] Drop patches.
  * [1b0670b] Update libvirt0 symbols.

 -- Laurent Léonard <laurent@open-minds.org>  Thu, 04 Feb 2010 00:38:08 +0100

libvirt (0.7.5-6) unstable; urgency=low

  [ Laurent Léonard ]
  * [a3b98c9] Don't free an uninitalized pointer in update_driver_name()
    (Closes: #565983) - thanks to Matthias Bolte
  * [719976d] Handle only official releases in debian/watch.
  * [83902d9] Bump Standards-Version to 3.8.4.

  [ Guido Günther ]
  * [959640d] New patch 0011-Fix-parsing-of-info-chardev-line-
    endings.patch Fix parsing of 'info chardev' line endings (Closes:
    #567818) - thanks to Matthew Booth

  [ Laurent Léonard ]
  * [0b2a9dd] Add $remote_fs to Required-Start and Required-Stop in
    libvirt-bin init script.

 -- Laurent Léonard <laurent@open-minds.org>  Mon, 01 Feb 2010 00:03:58 +0100

libvirt (0.7.5-5ubuntu29) maverick; urgency=low

  * debian/apparmor/libvirt-qemu: allow setgid and setuid so qemu can drop
    privileges (LP: #579584)

 -- Jamie Strandboge <jamie@ubuntu.com>  Thu, 10 Jun 2010 13:09:44 -0500

libvirt (0.7.5-5ubuntu28) maverick; urgency=low

  * debian/control: lower qemu-kvm and lvm2 from Recommends to Suggests,
    LP: #556312; it's reasonable to install libvirt on systems that
    host xen and qemu VMs; see meta packages (ubuntu-virt, ubuntu-virt-server,
    ubuntu-virt-mgmt) for group installation of virt pacakge sets

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 04 Jun 2010 19:09:36 -0500

libvirt (0.7.5-5ubuntu27.1) maverick; urgency=low

  [ Nigel Jones ]
  * debian/patches/9024-free-memory-for-invalid-devices.patch: clean
    up a memory leak affecting multipath+libvirt, LP: #571093

 -- Dustin Kirkland <kirkland@ubuntu.com>  Mon, 24 May 2010 10:00:07 -0500

libvirt (0.7.5-5ubuntu27) lucid; urgency=low

  * debian/libvirt-bin.postinst: ensure that the convenience feature
    of adding users to the libvirtd group does cause package setup
    failure, LP: #565380
  * debian/patches/9023-virt-pki-validate_fixes.patch: fix a bashism,
    a missing autoconf substitution, and an insufficient sed call, in
    order to get this working on Ubuntu, LP: #562266; patch submitted
    upstream

 -- Dustin Kirkland <kirkland@ubuntu.com>  Wed, 21 Apr 2010 15:59:49 -0500

libvirt (0.7.5-5ubuntu26) lucid; urgency=low

  * debian/patches/9022-dont-leak-log-fd.path.patch: Fix FD leak in
    qemudStartVMDaemon (LP: #567392)
  * debian/apparmor/usr.lib.libvirt.virt-aa-helper: update paths for LVM
    volumes and searching /sys/bus/usb/devices/ (LP: #565691)

 -- Jamie Strandboge <jamie@ubuntu.com>  Tue, 20 Apr 2010 13:45:12 -0500

libvirt (0.7.5-5ubuntu25) lucid; urgency=low

  * debian/apparmor/usr.lib.libvirt.virt-aa-helper: update paths for
    eucalyptus (LP: #564914)

 -- Jamie Strandboge <jamie@ubuntu.com>  Fri, 16 Apr 2010 14:10:06 -0500

libvirt (0.7.5-5ubuntu24) lucid; urgency=low

  * debian/apparmor/usr.lib.libvirt.virt-aa-helper: eek, the /dev change from
    the last upload was a wee bit too aggressive. Revert that and allow access
    to .img, .qcow{,2}, and .vmdk (file extensions that actually support
    backingstore) and .[iI][sS][oO] since it is so common (LP: #517714)

 -- Jamie Strandboge <jamie@ubuntu.com>  Thu, 15 Apr 2010 08:52:27 -0500

libvirt (0.7.5-5ubuntu23) lucid; urgency=low

  * debian/apparmor/usr.lib.libvirt.virt-aa-helper: also allow /opt but deny
    access to /dev to suppress confusing, non-fatal profile denials.

 -- Jamie Strandboge <jamie@ubuntu.com>  Wed, 14 Apr 2010 07:36:13 -0500

libvirt (0.7.5-5ubuntu22) lucid; urgency=low

  * debian/apparmor/usr.lib.libvirt.virt-aa-helper: allow ro access to files
    in /mnt, /media and /srv

 -- Jamie Strandboge <jamie@ubuntu.com>  Tue, 13 Apr 2010 08:27:46 -0500

libvirt (0.7.5-5ubuntu21) lucid; urgency=low

  * debian/libvirt-bin.upstart: simplify pidfile cleanup logic,
    per discussion with Jamie Strandboge and Loic Minier in LP: #510658

 -- Dustin Kirkland <kirkland@ubuntu.com>  Wed, 07 Apr 2010 16:09:05 -0500

libvirt (0.7.5-5ubuntu20) lucid; urgency=low

  * debian/libvirt-bin.upstart:
    - remove unnecessary pid file existence test, LP: #510658
    - revert virbr0 up/down hack added in 0.7.5-5ubuntu17, LP: #345485

 -- Dustin Kirkland <kirkland@ubuntu.com>  Wed, 07 Apr 2010 15:39:39 -0500

libvirt (0.7.5-5ubuntu19) lucid; urgency=low

  * fix for hostdev devices (LP: #545795). This can be dropped in 0.7.8
    - debian/patches/9021-apparmor-fix-hostdev.patch: adjust virt-aa-helper to
      handle pci devices. Update valid_path() to have an override array to
      check against, and add "/sys/devices/pci" to it. Then rename
      file_iterate_cb() to file_iterate_hostdev_cb() and create
      file_iterate_pci_cb() based on it. Update tests suite for this and SDL
    - debian/apparmor/libvirt-qemu: adjust for the above
    - debian/apparmor/usr.lib.libvirt.virt-aa-helper: allow access to
      /sys/devices

 -- Jamie Strandboge <jamie@ubuntu.com>  Mon, 05 Apr 2010 19:50:15 -0500

libvirt (0.7.5-5ubuntu18) lucid; urgency=low

  * handle SDL graphics (LP: #545426). This can be dropped in 0.7.8
    - 9019-apparmor-fix-xauth.patch: adjust virt-aa-helper to handle SDL
      graphics, specifically Xauthority. Also remove a couple redundant
      checks.
    - debian/apparmor/libvirt-qemu: add comment about /dev/fb*
  * handle backingstore (LP: #470636). This can be dropped in 0.7.8
    - debian/patches/9020-apparmor-fix-backingstore.patch: adjust
      virt-aa-helper to handle disks with backing stores
    - debian/apparmor/usr.lib.libvirt.virt-aa-helper: allow access to
      user-tmp, non-hidden files in @{HOME} and storage pools

 -- Jamie Strandboge <jamie@ubuntu.com>  Mon, 05 Apr 2010 16:56:25 -0500

libvirt (0.7.5-5ubuntu17) lucid; urgency=low

  * debian/libvirt-bin.upstart: bring virbr0 up/down on upstart start/stop
    of libvirt, LP: #345485

 -- Dustin Kirkland <kirkland@ubuntu.com>  Thu, 01 Apr 2010 23:08:33 -0500

libvirt (0.7.5-5ubuntu16) lucid; urgency=low

  * debian/libvirt-bin.upstart: libvirt has a nasty habit of leaving
    it's pidfile lying around when/if it crashes; add a pre-start
    check that removes the pidfile if it exists but the daemon is
    not actually running, LP: #510658

 -- Dustin Kirkland <kirkland@ubuntu.com>  Thu, 01 Apr 2010 19:47:04 -0500

libvirt (0.7.5-5ubuntu15) lucid; urgency=low

  * debian/apparmor/libvirt-qemu, examples/apparmor/libvirt-qemu:
    allow seabios in the apparmor profile, LP: #545302

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 23 Mar 2010 11:28:28 -0700

libvirt (0.7.5-5ubuntu14) lucid; urgency=low

  * debian/patches/9018-fix-pty-console.patch: fix issue using
    console in virsh.
    (LP: #542324)

 -- Scott Moser <smoser@ubuntu.com>  Fri, 19 Mar 2010 15:58:21 -0400

libvirt (0.7.5-5ubuntu13) lucid; urgency=low

  * debian/patches/9017-dont-disable-ipv6.patch: don't disable IPv6
    on the bridge interface. The original intent of disabling IPv6 was
    to prevent RAs received from client VMs from accidentally adding
    addresses to the bridge interface. However, only accept_ra=0 is
    necessary to fix this, without the side-effect of disabling IPv6.
    (LP: #528934)

 -- Jeremy Visser <jeremy@visser.name>  Thu, 04 Mar 2010 17:33:11 +1100

libvirt (0.7.5-5ubuntu12) lucid; urgency=low

  * Build against parted 2.2.

 -- Colin Watson <cjwatson@ubuntu.com>  Tue, 09 Mar 2010 01:18:49 +0000

libvirt (0.7.5-5ubuntu11) lucid; urgency=low

  * Make sure cache setting is output by virDomainGetXMLDesc (and, by
    extension, "virsh dumpxml"), even if no special driverName is set.
    (LP: #531741)

 -- Soren Hansen <soren@ubuntu.com>  Thu, 04 Mar 2010 22:19:52 +0100

libvirt (0.7.5-5ubuntu10) lucid; urgency=low

  * debian/patches/9015-autodetect-nc-params.patch: autodetect if the
    remote nc command supports the -q option. (LP: #517478)
  * debian/patches/0006-Terminate-nc-on-EOF.patch: disabled
    as the previous patch replaces it.

 -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Thu, 04 Mar 2010 07:58:52 -0500

libvirt (0.7.5-5ubuntu9) lucid; urgency=low

  * debian/apparmor/libvirt-qemu:
    - explicitly deny setpcap to silence denials. See LP: 522845 for details
    - allow read access to /proc/*/status
  * debian/patches/9014-apparmor-remove-unloaded-profile-is-not-fatal.patch:
    Don't exit with error if the user unloaded the profile outside of libvirt
    (LP: #530400)

 -- Jamie Strandboge <jamie@ubuntu.com>  Wed, 03 Mar 2010 06:29:39 -0600

libvirt (0.7.5-5ubuntu8) lucid; urgency=low

  * Build against parted 2.1.

 -- Colin Watson <cjwatson@ubuntu.com>  Fri, 26 Feb 2010 18:11:14 +0000

libvirt (0.7.5-5ubuntu7) lucid; urgency=low

  * debian/patches/0010-Use-base-16-for-product-vendor.patch: parse the USB
    and PCI product and vendor ids in hexadecimal. This fixes incorrect
    USB ids being used in virt-manager. (LP: #514610)

 -- Marc Deslauriers <marc.deslauriers@ubuntu.com>  Sun, 07 Feb 2010 11:08:23 -0500

libvirt (0.7.5-5ubuntu6) lucid; urgency=low

  * debian/patches/9013-apparmor-dont-clear-caps.patch: Don't clear
    capabilities when calling virt-aa-helper. When built with libcap-ng,
    clearing caps makes virt-aa-helper lose MAC_ADMIN, which is (obviously)
    needed by apparmor_parser. This restores libcap-ng behavior to what it was
    when not built with libcap-ng. (LP: #517714)

 -- Jamie Strandboge <jamie@ubuntu.com>  Fri, 05 Feb 2010 16:48:42 -0600

libvirt (0.7.5-5ubuntu5) lucid; urgency=low

  * Build-Depend on libcap-ng. (LP: #488963)

 -- Soren Hansen <soren@ubuntu.com>  Thu, 04 Feb 2010 14:50:40 -0800

libvirt (0.7.5-5ubuntu4) lucid; urgency=low

  * debian/patches/9011-node_device_driver.patch: Don't free an uninitalized
    pointer in update_driver_name() in src/node_device/node_device_driver.c
    (LP: #513544)
  * debian/patches/9012-dont-crash-on-restart.patch: don't crash on restart
    if domain(s) with PCI devices are running

 -- Jamie Strandboge <jamie@ubuntu.com>  Thu, 28 Jan 2010 08:26:14 -0600

libvirt (0.7.5-5ubuntu3) lucid; urgency=low

  * 9008-fix-daemon-conf-ftbfs.patch: fix for FTBFS on Ubuntu buildds by
    disabling running libvirtd with a valid config file in the daemon-conf
    test. This patch used to be 9008-warn-on-daemon-conf-test-wait.patch

 -- Jamie Strandboge <jamie@ubuntu.com>  Mon, 25 Jan 2010 21:08:46 -0600

libvirt (0.7.5-5ubuntu2) lucid; urgency=low

  * debian/patches/9010-apparmor-ftbfs.patch: updated to match upstream
    and give proper attribution

 -- Jamie Strandboge <jamie@ubuntu.com>  Mon, 25 Jan 2010 17:44:30 -0600

libvirt (0.7.5-5ubuntu1) lucid; urgency=low

  * Merge from debian unstable. Remaining changes:
    - debian/control:
      + Build-Depends on qemu-kvm, not qemu
      + Build-Depends on open-iscsi-utils, not open-iscsi
      + Build-Depends on libxml2-utils
      + Build-Depends on libapparmor-dev and Suggests apparmor (>=
        2.3+1289-0ubuntu14)
      + Bump bridge-utils, dnsmasq-base, netcat-openbsd, and iptables
        to Depends of libvirt-bin
      + Recommends qemu-kvm (>= 0.11.0-0ubuntu6)
      + Add versioned Conflicts/Replaces to libvirt0 for libvirt0-dbg,
        since we used to ship them as such
      + We call libxen-dev libxen3-dev, so change all references
      + temporarily remove Build-Depends on libcap-ng-dev, which isn't
        available in Ubuntu main yet
      + Rename Vcs-* to XS-Debian-Vcs-*
    - debian/libvirt-bin.postinst:
      + rename the libvirt group to libvirtd
      + add each admin user to the libvirtd group
      + reload apparmor profiles
      + 0.7.2 moved /usr/bin/virt-aa-helper to /usr/lib/libvirt, so the
        profile changed from usr.bin.virt-aa-helper to
        usr.lib.libvirt.virt-aa-helper and needs to be migrated. If the user
        made no changes to the old profile, remove it, otherwise, update the
        paths, preserving the shipped usr.lib.libvirt.virt-aa-helper
    - debian/libvirt-bin.postrm:
      + rename the libvirt group to libvirtd
      + remove apparmor symlinks on purge
    - debian/libvirt-bin.preinst: added to force complain on certain
      upgrades
    - debian/README.Debian: add AppArmor section based on the upstream
      documentation
    - debian/rules:
      + update DEB_DH_INSTALLINIT_ARGS for upstart
      + add DEB_MAKE_CHECK_TARGET := check
      + use --with-apparmor
      + copy apparmor and apport hook to debian/tmp
    - add debian/libvirt-bin.upstart
    - debian/libvirt-bin.dirs: add /etc/apparmor.d/abstractions,
      /etc/apparmor.d/disable, /etc/apparmor.d/force-complain,
      /etc/apparmor.d/libvirt, /etc/cron.daily and
      /usr/share/apport/package-hooks
    - add debian/libvirt-bin.cron.daily
    - add debian/libvirt-bin.apport
    - debian/libvirt-bin.install: install apparmor profiles, abstractions
      and apport hook
    - debian/patches/series: don't apply 0002-qemu-disable-network.diff.patch
      + 9000-delayed_iff_up_bridge.patch
      + 9001-dont_clobber_existing_bridges.patch
      + 9002-better_default_uri_virsh.patch
      + 9003-increase-logoutput-timeout.patch
      + 9004-better-default-arch.patch
      + 9005-libvirtd-group-name.patch
      + 9006-increase-unix-socket-timeout.patch
      + 9007-default-config-test-case.patch
      + 9008-warn-on-daemon-conf-test-wait.patch (renamed from 9016)
    - Dropped the following patches now including upstream:
      + 0005-Fix-SELinux-linking-issues.patch
      + 9008-apparmor-caps-mockup.patch
      + 9009-apparmor-lp453335.patch
      + 9010-apparmor-lp460271.patch
      + 9011-apparmor-code-cleanups.patch
      + 9012-apparmor-add-virt-aa-helper-test.patch
      + 9013-apparmor-examples.patch
      + 9014-event-fuzz.patch
      + 9015-hal-startup-failure-is-nonfatal.patch
  * debian/patches/9009-run-as-root-by-default.patch: run virtual machines
    via qemu:///system as root. As of 0.7, upstream libvirt has the ability to
    run VMs started via qemu:///system as an unprivileged user. Debian's
    libvirt now runs these VMs as libvirt-qemu:kvm. However, the upstream
    implementation is contentious among the community and while it does
    reduce the privileges of the VMs running under qemu:///system, all VMs
    currently run under the same user, so there is no guest isolation. Even if
    each user ran under its own user, an attacker could potentially break out
    of the VM and have unconfined user access (albeit non-root). In Ubuntu,
    Qemu/KVM virtual machines are already fully isolated and confined by the
    AppArmor security driver so this feature has been disabled. Once there is
    consensus among the community on the implementation and its use, changing
    this default in Ubuntu can be considered as an additional protection to
    the AppArmor driver.
  * debian/README.Debian: add section discussing the security implications of
    using qemu:///system
  * debian/patches/9010-apparmor-ftbfs.patch: fix missing bracket in
    virt-aa-helper.c and automake dependency declaration. This should be
    dropped in 0.7.6 or higher.

 -- Jamie Strandboge <jamie@ubuntu.com>  Mon, 25 Jan 2010 12:48:13 -0600

libvirt (0.7.5-5) unstable; urgency=low

  [ Guido Günther ]
  * [d8e60e8] Add css to docs
  * [f6e41ae] New patch 0008-qemu-Use-log-output-for-pty-assignment-if-
    info-chard.patch qemu: Use log output for pty assignment if 'info
    chardev' is unavailable - thanks to Matthias Bolte

  [ Laurent Léonard ]
  * [0905f82] Fix QEMU driver custom domain status XML extensions. -
    thanks to Daniel P. Berrange

 -- Laurent Léonard <laurent@open-minds.org>  Tue, 19 Jan 2010 23:16:16 +0100

libvirt (0.7.5-4) unstable; urgency=low

  * [18520c0] Same description of supported virt techs in all binary packages
    (Closes: #564909) - thanks to Loïc Minier
  * [49c357c] Implement path lookup for USB by vendor:product (Closes:
    #563502) - thanks to Cole Robinson

 -- Guido Günther <agx@sigxcpu.org>  Wed, 13 Jan 2010 23:57:26 +0100

libvirt (0.7.5-3) unstable; urgency=low

  * [4d41fd7] Also look for dmi information in /sys/class older kernels such
    as 2.6.26 have it there. (Closes: #564020)
  * [1c0e0b5] Explicitly disable ESX support
  * [c3c84f6] Terminate nc on EOF (Closes: #564053) - thanks to Gabor Gombas
    for the patch

 -- Guido Günther <agx@sigxcpu.org>  Fri, 08 Jan 2010 11:07:34 +0100

libvirt (0.7.5-2) unstable; urgency=low

  * Upload to unstable
  * [d6c5ca5] Add debugging symbols for all packages

 -- Guido Günther <agx@sigxcpu.org>  Sun, 03 Jan 2010 20:01:12 +0100

libvirt (0.7.5-1) experimental; urgency=low

  [ Laurent Léonard ]
  * [96f8d94] Imported Upstream version 0.7.5
  * [f8089a1] Redo patches.
  * [294ce3d] Update libvirt0 symbols.
  * [1c97be7] Allow DM upload and add myself as uploader.
  * [5635a32] Clean debian/watch.

  [ Guido Günther ]
  * [45f98ae] Drop 0005-udev_device_get_devpath-might-return-NULL.patch
    applied upstream.

 -- Guido Günther <agx@sigxcpu.org>  Sat, 26 Dec 2009 17:45:47 +0100

libvirt (0.7.4-2) experimental; urgency=low

  * [65d3755] Disable SELinux to work around #559356
  * [19bd427] Run qemu instances as qemu-libvirt instead of root by default
    (Closes: #558197)
  * [0a6c03b] Use kvm as primary group for libvirt-qemu user
  * [e5ae24b] Fix udev backend startup
  * [f610a8e] Use udev instead of hal backend

 -- Guido Günther <agx@sigxcpu.org>  Mon, 07 Dec 2009 21:20:20 +0100

libvirt (0.7.4-1) unstable; urgency=low

  [ Laurent Léonard ]
  * [8f2761b] Imported Upstream version 0.7.4
  * [20b6b3d] Drop patches. 
      * 0005-Fix-SELinux-linking-issues.patch - fixed upstream.
      * 0006-Don-t-let-parent-of-daemon-exit-until-basic-initiali.patch -
        fixed upstream.
      * 0007-Only-remove-masquerade-roles-for-VIR_NETWORK_FORWARD.patch -
        applied upstream. 
      * 0008-Fix-qemu-session.patch - fixed upstream.
  * [e41f8c6] Update libvirt0 symbols.
  * [f184e28] Revert "switch to new source format 3.0 (quilt)" This reverts
    commit 213ca47bbbefe2dc95be58a09db34669e3be5797.
  * [65084d2] Enhance handling of examples.

 -- Guido Günther <agx@sigxcpu.org>  Tue, 01 Dec 2009 18:51:18 +0100

libvirt (0.7.2-4ubuntu6) lucid; urgency=low

  * Update libvirt0 description to match the other packages in supported
    virtualization technologies.
  * Rename Vcs-* to XS-Debian-Vcs-*.

 -- Loïc Minier <loic.minier@ubuntu.com>  Tue, 12 Jan 2010 17:22:02 +0100

libvirt (0.7.2-4ubuntu5) lucid; urgency=low

  * debian/rules, debian/libvirt-bin.upstart: migrate libvirt to upstart
    (LP: #446036)
  * debian/control: depend on open-iscsi-utils, rather than open-iscsi,
    fixed again, grrr (LP: #414986)

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 05 Jan 2010 23:23:28 -0600

libvirt (0.7.2-4ubuntu4) lucid; urgency=low

  * debian/libvirt-bin.postinst: don't sed a non-existent file (LP: #493582)

 -- Jamie Strandboge <jamie@ubuntu.com>  Mon, 07 Dec 2009 08:55:03 -0600

libvirt (0.7.2-4ubuntu3) lucid; urgency=low

  * debian/patches/9016-warn-on-daemon-conf-test-wait.patch: workaround FTBFS
    on buildd by not failing when waiting on pid

 -- Jamie Strandboge <jamie@ubuntu.com>  Wed, 02 Dec 2009 12:12:17 -0600

libvirt (0.7.2-4ubuntu2) lucid; urgency=low

  * debian/control: Build-Depends on qemu-kvm, not qemu
  * debian/patches/9007-default-config-test-case.patch: revert last change
    which caused a different failure on buildd

 -- Jamie Strandboge <jamie@ubuntu.com>  Wed, 02 Dec 2009 11:14:59 -0600

libvirt (0.7.2-4ubuntu1) lucid; urgency=low

  * Merge from debian testing. Remaining changes:
    - debian/control:
      + Don't build-depend on QEmu
      + Bump bridge-utils, dnsmasq-base, netcat-openbsd, and iptables
        to Depends of libvirt-bin
      + Recommends qemu-kvm (>= 0.11.0-0ubuntu6)
      + Add versioned Conflicts/Replaces to libvirt0 for libvirt0-dbg,
        since we used to ship them as such
      + We call libxen-dev libxen3-dev, so change all references
      + Build-Depends on libxml2-utils
      + Build-Depends on open-iscsi-utils instead of open-iscsi due to
        LP: #414986
    - debian/postinst:
      + rename the libvirt group to libvirtd
      + add each admin user to the libvirtd group
    - debian/libvirt-bin.postrm: rename the libvirt group to libvirtd
    - debian/rules: add DEB_MAKE_CHECK_TARGET := check
    - debian/patches/900[0-7]: updated/refreshed for new paths in 0.7.2
    - debian/patches/series: don't apply 0002-qemu-disable-network.diff.patch
    - AppArmor integration:
      + debian/control: Build-Depends on libapparmor-dev and Suggests
        apparmor (>= 2.3+1289-0ubuntu14)
      + debian/libvirt-bin.dirs: add /etc/apparmor.d/abstractions,
        /etc/apparmor.d/force-complain, /etc/apparmor.d/libvirt,
        /etc/cron.daily and /usr/share/apport/package-hooks
      + add debian/libvirt-bin.cron.daily (LP: #438165)
      + add debian/libvirt-bin.apport
      + debian/libvirt-bin.install: install apparmor profiles, abstractions
        and apport hook
      + debian/postinst: reload apparmor profiles
      + debian/libvirt-bin.postrm: remove apparmor symlinks on purge
      + debian/libvirt-bin.preinst: added to force complain on certain
        upgrades
      + debian/README.Debian: add AppArmor section based on the upstream
        documentation
      + debian/rules: use --with-apparmor and copy apparmor and apport hook to
        debian/tmp
    - Dropped the following patches now included upstream:
      + 0005-Close-logfile-fd-after-spawning-qemu.patch
      + 9090-reenable-nonfile-labels.patch
      + 9091-apparmor.patch
      + 9092-apparmor-autoreconf.patch
  * AppArmor integration updates:
    - debian/apparmor/usr.sbin.libvirtd: allow libvirtd access to
      /usr/lib/libvirt/* (LP: #480478)
    - debian/apparmor/libvirt-qemu: allow guests access to
      /etc/pki/libvirt-vnc/** (LP: #484562)
    - debian/libvirt-bin.postinst: 0.7.2 moved /usr/bin/virt-aa-helper to
      /usr/lib/libvirt, so the profile changed from usr.bin.virt-aa-helper
      to usr.lib.libvirt.virt-aa-helper and needs to be migrated. If the user
      made no changes to the old profile, remove it, otherwise, update the
      paths, preserving the shipped usr.lib.libvirt.virt-aa-helper
    - update to 0.7.4 version of the sVirt AppArmor driver (can be dropped in
      0.7.4):
      + debian/patches/9008-apparmor-caps-mockup.patch
      + debian/patches/9009-apparmor-lp453335.patch
      + debian/patches/9010-apparmor-lp460271.patch
      + debian/patches/9011-apparmor-code-cleanups.patch
    - add virt-aa-helper-test and examples/apparmor that were omitted from the
      upstream tarball (can be dropped in 0.7.5):
      + debian/patches/9012-apparmor-add-virt-aa-helper-test.patch
      + debian/patches/9013-apparmor-examples.patch
      + debian/rules: add post-patches target to make virt-aa-helper-test
        executable
  * debian/patches/0005-Fix-SELinux-linking-issues.patch: updated to work
    when both apparmor and selinux are available. This patch should be
    dropped in 0.7.4.
  * debian/patches/9007-default-config-test-case.patch: updated to not fail
    if building in a deep directory
  * debian/patches/9014-event-fuzz.patch: add a little fuzz to not be quite
    so precise with expected expiry time. Fixes FTBFS with HZ=100 kernels.
    Can be dropped in 0.7.5.
  * debian/patches/9015-hal-startup-failure-is-nonfatal.patch: disable hal
    driver if hald is not running instead of dying. Can be dropped in
    0.7.4.
  * debian/control: temporarily remove Build-Depends on libcap-ng-dev, which
    isn't available in Ubuntu main yet
  * revert change to new source format 3.0 (quilt) since Launchpad can't
    handle it yet (see LP: #293106)

 -- Jamie Strandboge <jamie@ubuntu.com>  Wed, 02 Dec 2009 09:22:21 -0600

libvirt (0.7.2-4) unstable; urgency=low

  * [213ca47] switch to new source format 3.0 (quilt)
  * [f5a10e9] Depend on hal (Closes: #556730)
  * [7d1422d] Drop build-dep on libpolkit-dbus-dev (Closes: #549500)
  * [95ad85c] Depend on libcap-ng-dev for lxc driver.

 -- Guido Günther <agx@sigxcpu.org>  Wed, 25 Nov 2009 20:39:17 +0100

libvirt (0.7.2-3) unstable; urgency=low

  * [2c0aa82] Fix qemu:///session Backported from upsgtream's
    79218cdd9887b132eb0f29fe2048f89e90beae1 (Closes: #554869)

 -- Guido Günther <agx@sigxcpu.org>  Sat, 07 Nov 2009 12:50:54 +0100

libvirt (0.7.2-2) unstable; urgency=low

  [ Laurent Léonard ]
  * [a9ea205] Change requirement of libvirt-bin in libvirt- suspendonreboot.
  * [a4db804] Update debian/patches/0006-Don-t-let-parent-of-daemon-
    exit-until-basic-initiali.patch. Fix use of an uninitialized variable that
    was causing a bug on i386 systems.
  * [59e1e53] Redo patches.

  [ Guido Günther ]
  * upload to unstable
  * [43f106a] Only remove masquerade roles for VIR_NETWORK_FORWARD_NAT
    (Closes: #549949) - thanks to Rob S. Wolfram for testing

 -- Guido Günther <agx@sigxcpu.org>  Thu, 05 Nov 2009 20:44:21 +0100

libvirt (0.7.2-1) experimental; urgency=low

  [ Laurent Léonard ]
  * [51a4814] Imported Upstream version 0.7.2
  * [12268f6] Update patches.
  * [175d497] Fix SELinux linking issues. Pulled from upstream
    309acaa0230494b8ec08d03375c10238cb2daf55.
  * [5cfdaf8] Update libvirt-doc docs.
  * [dc2059f] Update libvirt-bin manpages.
  * [a62a4a7] Update libvirt-bin examples.
  * [9e38cbc] Update libvirt0 symbols.
  * [412b12f] Make init.d script provide itself.
  * [35451bf] Update debian/rules to support new example files.
  * [43b7dac] Don't let parent of daemon exit until basic initialization is
    done.
  * [5a37e69] Make init.d provide libvirtd for backward compatibility.

 -- Guido Günther <agx@sigxcpu.org>  Mon, 26 Oct 2009 20:14:23 +0100

libvirt (0.7.1-2) unstable; urgency=low

  * [f5299d3] document changes and release 0.7.1-1
  * [f137c00] Allow for older versions of dpkg-dev to ease backports.
  * [74f5832] Use Policykit 1.0 (Closes: #549500)

 -- Guido Günther <agx@sigxcpu.org>  Fri, 09 Oct 2009 20:32:02 +0200

libvirt (0.7.1-1) unstable; urgency=low

  [ Laurent Léonard ]
  * [40fb620] Bump Debhelper version to 7.
  * [e0e89f2] Bump Standards-Version to 3.8.3.
  * [50a862f] Clean debian/rules.
  * [e9c9906] Change build dependency on libreadline5-dev to
    libreadline-dev.
  * [b6cb738] Imported Upstream version 0.7.1
  * [780f6a7] Redo patches.
  * [3d66f37] Update libvirt-bin examples.
  * [c01ed84] Update libvirt0 symbols.

 -- Guido Günther <agx@sigxcpu.org>  Sat, 26 Sep 2009 17:15:02 +0200

libvirt (0.7.0-1ubuntu15) lucid; urgency=low

  * Run test suite at build time.
  * Add libxml2-utils dependency. Needed by the test suite.
  * Remove "Connecting to uri: " notice from virsh. It breaks the test
    suite, the information is readily available with the "uri" command
    inside virsh, and it's a usability delta with upstream, so
    constantly causes confusion.

 -- Soren Hansen <soren@ubuntu.com>  Fri, 27 Nov 2009 11:21:53 +0100

libvirt (0.7.0-1ubuntu14) lucid; urgency=low

  * debian/patches/9093-lp460271.patch: require absolute path for dynamic
    added files (LP: #460271)
  * debian/patches/9094-lp453335.patch: suppress confusing and misleading
    apparmor denied message when kvm/qemu tries to open a libvirt specified
    readonly file (such as a cdrom) with write permissions. libvirt uses the
    readonly attribute for the security driver only, and has no way of telling
    kvm/qemu that the device should be opened readonly. (LP: #453335)
  * debian/apparmor/usr.sbin.libvirtd: allow 'inet dgram' for migration to
    work (LP: #461528)
  * debian/apparmor/usr.sbin.libvirtd: properly support qemu+tcp:// by
    allowing 'inet6 stream' and 'inet6 dgram' (LP: #462000)

 -- Jamie Strandboge <jamie@ubuntu.com>  Mon, 09 Nov 2009 17:11:05 -0600

libvirt (0.7.0-1ubuntu13) karmic; urgency=low

  * allow save/restore to work in $HOME. This is a workaround until upstream
    https://bugzilla.redhat.com/show_bug.cgi?id=529363 is fixed. (LP: #457716)
  * debian/libvirt-bin.cron.daily: don't comlain if no domain XML definitions
    or domain AppArmor profiles. Based on work by Loïc Minier. (LP: #457607)

 -- Jamie Strandboge <jamie@ubuntu.com>  Fri, 23 Oct 2009 03:52:33 -0500

libvirt (0.7.0-1ubuntu12) karmic; urgency=low

  * debian/apparmor/libvirt-qemu: a couple more fixes for pulseaudio
    LP: #453329

 -- Jamie Strandboge <jamie@ubuntu.com>  Fri, 16 Oct 2009 17:06:15 -0500

libvirt (0.7.0-1ubuntu11) karmic; urgency=low

  * debian/patches/9091-apparmor.patch:
    - src/virt-aa-helper.c: update to parse XML for guest's architecture and
      os.type rather than just trying to make something up.
    - tests/virt-aa-helper-test: add some tests for the above and fix another
      test
    - LP: #448671

 -- Jamie Strandboge <jamie@ubuntu.com>  Wed, 14 Oct 2009 14:55:20 -0500

libvirt (0.7.0-1ubuntu10) karmic; urgency=low

  * debian/patches/0005-Close-logfile-fd-after-spawning-qemu.patch: fix
    egregious file descriptor leak with cherry-pick from upstream git,
    LP: #438815

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 06 Oct 2009 18:57:22 -0500

libvirt (0.7.0-1ubuntu9) karmic; urgency=low

  * allow access for sound (LP: #437854)
    - abstractions/libvirt-qemu: add very specific rules for allowing ALSA. We
      do not use the audio abstraction because the virtual machine runs as root
      and therefore DAC cannot be used as a fallback.
    - debian/README.Debian: add some text to encourage review of the AppArmor
      profiles and abstraction when using in production environments
  * debian/libvirt-bin.cron.daily: added to clean out old profiles that are no
    longer associated with a virtual machine definition (LP: #438165)
  * debian/patches/9091-apparmor.patch:
    - quote the pid, monitor and logfile in case any of them have weird
      characters (complete fix for LP: #432810)
    - support <readonly/> for disks

 -- Jamie Strandboge <jamie@ubuntu.com>  Mon, 05 Oct 2009 16:31:12 -0500

libvirt (0.7.0-1ubuntu8) karmic; urgency=low

  * debian/patches/9091-apparmor.patch: sync with upstream for maintenance,
    licensing compliance with upstream and bug fixes:
    - handle files with spaces in the name (LP: #432810)
    - add serial, console, kernel and initrd support (LP: #432581)
    - allow read only access to /boot, /vmlinuz and /initrd.img
    - allow access to character devices (eg USB devices)
    - have virt-aa-helper accept XML on stdin, which allows for adding
      other devices in the future and helps ensure we always have the most
      up to date definition
    - update profile on attach and detach of devices (LP: #435527)
    - add --dryrun option to virt-aa-helper, and greatly improve the
      virt-aa-helper-test script
  * revert workaround for LP: #431090 now that kernel, initrd, et al is
    properly supported
  * debian/apparmor/usr.sbin.libvirtd: add various capabilities
    recommended by upstream to prevent potential regressions

 -- Jamie Strandboge <jamie@ubuntu.com>  Tue, 22 Sep 2009 20:04:58 -0500

libvirt (0.7.0-1ubuntu7) karmic; urgency=low

  * debian/apparmor/libvirt-qemu: add chown capability (LP: #434417)

 -- Jamie Strandboge <jamie@ubuntu.com>  Tue, 22 Sep 2009 08:03:21 -0500

libvirt (0.7.0-1ubuntu6) karmic; urgency=low

  * debian/apparmor/libvirt-qemu: workaround eucalyptus serial console,
    kernel and initrd location. This should be removed after virt-aa-helper is
    able to get these from XML. (LP: #431090)

 -- Jamie Strandboge <jamie@ubuntu.com>  Thu, 17 Sep 2009 11:35:42 -0500

libvirt (0.7.0-1ubuntu5) karmic; urgency=low

  * debian/apparmor/usr.sbin.libvirtd: switch to enforcing by default. Please
    note that this was only in complain mode temporarily to work around kernel
    bugs in the 2.6.31-9 kernel. Confinement of virtual machines (controlled
    by /etc/apparmor.d/libvirt/TEMPLATE) was already in enforcing mode.
    (LP: #427338)
  * debian/README.Debian: update AppArmor section based on the upstream
    documentation

 -- Jamie Strandboge <jamie@ubuntu.com>  Thu, 10 Sep 2009 08:05:45 -0500

libvirt (0.7.0-1ubuntu4) karmic; urgency=low

  * debian/libvirt-bin.postinst: add each admin user to libvirtd,
    LP: #410226; note that this is only a partial fix, as admin users
    added after libvirt's install will need to be individually added
    to libvirtd; however, this should fix a huge number of
    single-admin-user-in-default-Ubuntu-system annoyances
  * debian/control: bump standards version

 -- Dustin Kirkland <kirkland@ubuntu.com>  Tue, 08 Sep 2009 17:56:52 -0500

libvirt (0.7.0-1ubuntu3) karmic; urgency=low

  * debian/apparmor/libvirt-qemu: allow access to /dev/kqemu
  * debian/apparmor/usr.bin.virt-aa-helper: use @{PROC} instead of /proc

 -- Jamie Strandboge <jamie@ubuntu.com>  Wed, 26 Aug 2009 12:19:24 -0500

libvirt (0.7.0-1ubuntu2) karmic; urgency=low

  * Add AppArmor support (LP: #388422):
    - debian/patches/9090-reenable-nonfile-labels.patch: add back in
      virDomainObjPtr argument to RestoreSecurityImageLabel since AppArmor
      labels are not stored on disk
    - debian/patches/9091-apparmor.patch: add AppArmor security driver
    - debian/patches/9092-apparmor-autoreconf.patch: after installing libtool
      and the build dependencies, run autoreconf to pull in changes to
      Makefile.am and configure.in in 9091-apparmor.patch
    - debian/rules: use --with-apparmor and copy debian/apparmor/* to
      debian/tmp
    - debian/control: Build-Depends on libapparmor-dev and Suggests apparmor
      >= 2.3+1289-0ubuntu14
    - add profiles and abstractions to debian/apparmor. usr.sbin.libvirtd will
      default to complain mode until LP: #401931 is sorted out
    - debian/libvirt-bin.dirs: add /etc/apparmor.d/libvirt,
      /etc/apparmor.d/abstractions, and /etc/apparmor.d/force-complain
    - debian/libvirt-bin.install: install profiles and abstractions
    - debian/libvirt-bin.preinst: newly added to force complain on certian
      upgrades
    - debian/libvirt-bin.postinst: (re)load profile
    - debian/libvirt-bin.postrm: remove force-complain profile on purge
  * 9006-increase-unix-socket-timeout.patch:
    increase timeout waiting for unix socket in src/qemu_driver.c, set to 30
    seconds, which 10x longer than before, and matches the logoutput timeout
    adjustment in 9003-increase-logoutput-timeout.patch. This is needed with
    the new qemudOpenMonitorUnix() function introduced in 0.7.0.
  * add apport hook:
    - add debian/libvirt-bin.apport
    - debian/libvirt-bin.dirs: add /usr/share/apport/package-hooks
    - debian/libvirt-bin.install: add source_libvirt-bin.py
    - debian/rules: install libvirt-bin.apport

 -- Jamie Strandboge <jamie@ubuntu.com>  Tue, 25 Aug 2009 11:51:42 -0500

libvirt (0.7.0-1ubuntu1) karmic; urgency=low

  * Merge from debian experimental, remaining changes:
    - debian/control:
      + Don't build-depend on QEmu.
      + Bump bridge-utils, dnsmasq-base, netcat-openbsd, and iptables
        to Depends of libvirt-bin.
      + Add versioned Conflicts/Replaces to libvirt0 for libvirt0-dbg,
        since we used to ship them as such.
      + We call libxen-dev libxen3-dev, so change all references.
      + Build-Depends on open-iscsi-utils instead of open-iscsi due to
        LP: #414986
    - 9000-delayed_iff_up_bridge.patch:
      Don't try to bring up the bridge before at least one interface has been
      added to it.
    - 9001-dont_clobber_existing_bridges.patch:
      Assign the name of the virtual bridge dynamically to avoid interfering
      with existing bridges.
    - 9002-better_default_uri_virsh.patch:
      Default to qemu:///system if the user has write access to the libvirt
      socket, otherwise qemu:///session.
    - 9003-increase-logoutput-timeout.patch:
      increase timeout waiting for log output in src/qemu_driver.c, set to 30
      seconds, which 10x longer than before, and matches the disk-wait in
      mdadm. (LP #344400)
    - 9004-better-default-arch.patch:
      If a domain does not specify its architecture, attempt to match the host.
      (LP #344913)
    - 9005-libvirtd-group-name.patch:
      Rename libvirt group to libvirtd.
    - rename the libvirt group to libvirtd in postinst/postrm
  * Dropped the following patches from debian/patches (they don't apply any
    more were not applied in 0.6.4-1ubuntu2):
    - dynamic_bridge_names.patch
    - event-loop-hang.diff
    - more-flexible-emulator-on-x86.patch
    - xen-events-handling-fix.diff

 -- Jamie Strandboge <jamie@ubuntu.com>  Thu, 13 Aug 2009 20:24:24 -0500

libvirt (0.7.0-1) experimental; urgency=low

  [ Laurent Léonard ]
  * [4fb1a38] Imported Upstream version 0.7.0
  * [5578fd3] Drop 0005-Fix-PCI-device-hotplug-unplug-with-newer-
    QEMU.patch. Fixed upstream.
  * [9a8afd0] Redo patches.
  * [937ab63] Update symbols.
  * [b4bd1ea] Update section in doc-base control file.

 -- Guido Günther <agx@sigxcpu.org>  Sun, 09 Aug 2009 13:35:42 +0200

libvirt (0.6.5-3) unstable; urgency=low

  * [72a8eb6] Add a versioned dependency on dpkg-dev (Closes: #537316)
  * [ae20998] fix Debian Xen path patch to also cover the testsuite
  * [b2a1c47] New patch 0001-Fix-PCI-device-hotplug-unplug-with-newer-
    QEMU.patch pulled from upstream 326ecb7. Fixes PCI hotplug with
    newer kvm.

 -- Guido Günther <agx@sigxcpu.org>  Wed, 29 Jul 2009 12:17:52 +0200

libvirt (0.6.5-2) unstable; urgency=low

  * [45b9fdf] build-conflict on dpkg-dev (= 1.15.3) (Closes: #536673)

 -- Guido Günther <agx@sigxcpu.org>  Sun, 12 Jul 2009 15:03:08 +0200

libvirt (0.6.5-1) unstable; urgency=low

  [ Guido Günther ]
  * [05e9a39] build-depend on policykit so polkit auth works with virsh
    as well

  [ C.J. Adams-Collier ]
  * [a161c5f] allow to qemu to emulate arm

  [ Guido Günther ]
  * [b1e4c4b] Imported Upstream version 0.6.5
  * [e764583] change private symbols to 0.6.5
  * [f94fb48] drop 0005-allow-to-qemu-to-emulate-arm.patch fixed upstream.
  * [7ad7896] bump standards version
  * [e2c5867] tighten libvirt-bin's dependency on libvirt0 since libvirtd uses
    private symbols

 -- Guido Günther <agx@sigxcpu.org>  Sun, 05 Jul 2009 13:07:53 +0200

libvirt (0.6.4-1ubuntu2) karmic; urgency=low

  * Also rename the libvirt group to libvirtd in postinst/postrm.
    (LP: #392696)

 -- Soren Hansen <soren@ubuntu.com>  Fri, 26 Jun 2009 22:49:45 +0200

libvirt (0.6.4-1ubuntu1) karmic; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/control:
      + Don't build-depend on QEmu.
      + Add "XS-Debian-" prefix to Debian's Vcs headers.
      + Bump bridge-utils, dnsmasq-base, netcat-openbsd, and iptables
        to Depends of libvirt-bin.
      + s/interract/interact/g
      + Add versioned Conflicts/Replaces to libvirt0 for libvirt0-dbg,
        since we used to ship them as such.
    - 9000-delayed_iff_up_bridge.patch:
      Don't try to bring up the bridge before at least one interface has been
      added to it.
    - 9001-dont_clobber_existing_bridges.patch
      Assign the name of the virtual bridge dynamically to avoid interfering
      with existing bridges.
    - 9002-better_default_uri_virsh.patch:
      Default to qemu:///system if the user has write access to the libvirt
      socket, otherwise qemu:///session.
    - 9003-increase-logoutput-timeout.patch:
      increase timeout waiting for log output in src/qemu_driver.c, set to 30
      seconds, which 10x longer than before, and matches the disk-wait in
      mdadm. (LP #344400)
    - 9004-better-default-arch.patch:
      If a domain does not specify its architecture, attempt to match the host.
      (LP #344913)
    - 9005-libvirtd-group-name.patch:
      Rename libvirt group to libvirtd.
    - We call libxen-dev libxen3-dev, so change all references.

 -- Soren Hansen <soren@ubuntu.com>  Mon, 22 Jun 2009 11:14:57 +0200

libvirt (0.6.4-1) unstable; urgency=low

  * [dd3adb2] Imported Upstream version 0.6.4
  * [2320162] update symbols file
  * [89c9720] remove bashism (Closes: #530122)
  * [30d86c1] drop patches fixed upstream:
        0005-don-t-crash-with-def-NULL.patch
        0006-Fix-QEMU-ARGV-detection-with-kvm-85.patch
        0007-Declare-support-for-QEMU-migration-in-capabilities.patch

 -- Guido Günther <agx@sigxcpu.org>  Thu, 04 Jun 2009 12:50:01 +0200

libvirt (0.6.3-4) unstable; urgency=low

  * [3607f2f] Install libvirt_lxc that got list somewhere between our
              testbuilds. (Closes: #529578)
  * [070ddd5] install augeas lense
  * [c9b034d] install schema files

 -- Guido Günther <agx@sigxcpu.org>  Wed, 20 May 2009 14:33:18 +0200

libvirt (0.6.3-3) unstable; urgency=low

  * [4087b7d] disable lxc on ia64 to work around FTBFS until we have
              access to a test machine
  * [df5f5a0] pull some kvm/qemu related patches from upstream 
              (Closes: #529324)

 -- Guido Günther <agx@sigxcpu.org>  Tue, 19 May 2009 19:14:57 +0200

libvirt (0.6.3-2) unstable; urgency=low

  * [35898d3] fix crash when libvirt_lxc is called without arguments
  * [449ca60] enable lxc support (Closes: #526718) - thanks to Daniel
              Pittman for testing this
  * [335a4e6] update description with supported virtualization solutions
  * [92eba47] delay libvirt-bin start until after avahi
  * [8ebd17d] update startup priorities due to changed libvirt-bin
               startup priority. Also add an LSB header. (Closes: #526944)

 -- Guido Günther <agx@sigxcpu.org>  Thu, 07 May 2009 13:28:40 +0200

libvirt (0.6.3-1) unstable; urgency=low

  * [0cb2f83] Imported Upstream version 0.6.3
        * virtual box support
  * [06fe518] 0001-remove-RHism.diff.patch: use invoke-rc.d
  * [ec2fd52] drop patches merged upstream:
        * 0003-allow-libvirt-group-to-access-the-socket.patch  series
        * 0004-fix-Debian-specific-path-to-hvm-loader.patch
  * [6977bde] enable vbox support
  * [93c4423] add symbols file

 -- Guido Günther <agx@sigxcpu.org>  Sun, 03 May 2009 23:33:28 +0200

libvirt (0.6.2-2) unstable; urgency=low

  * [031b9c1] Don't hardcode buffer size for getgrnam_r. Works around
              #520744 and fixes possible problems with implementations having
              _SC_GETGR_R_SIZE_MAX != 1024.
  * [bbe7743] respect log priority for qemu domain logs (Closes: #524145)
  * [a2e4cb0] don't rely on log_end_msg returning 0 this isn't the case
              with splashy. (Closes: #523712)
  * [ddfafda] move debug package into section debug

 -- Guido Günther <agx@sigxcpu.org>  Thu, 16 Apr 2009 15:28:31 +0200

libvirt (0.6.2-1) unstable; urgency=low

  * [99fd06c] Imported Upstream version 0.6.2 (Closes: #521785)
  * [78cd5c8] drop /var/run/libvirt created by init script
  * [2a7cb3b] move startup of libvirtd after hal (Closes: #522310)
  * [b8707ed] bump standards version 0.8.1 (no changes necessary)

 -- Guido Günther <agx@sigxcpu.org>  Thu, 09 Apr 2009 22:48:57 +0200

libvirt (0.6.1-1) unstable; urgency=low

  * [3be7341] Imported Upstream version 0.6.1
  * [38fde15] rediff Debian specific patches
  * [9b59a19] drop patches applied upstream:
        * 0004-Don-t-hardcode-ssh-port.patch
        * 0005-minimal-workaround-for-qemu-startup-race.patch
  * [95d4b7f] drop patches backported from upstream
        * 0009-libvirt_proxy-Fix-use-of-uninitalized-memory.patch
  * [8171d83] build-dep on module-init-tools so configure can figure out
    the path to modprobe

 -- Guido Günther <agx@sigxcpu.org>  Thu, 05 Mar 2009 13:58:41 +0100

libvirt (0.6.1-0ubuntu5) jaunty; urgency=low

  * Fix logic error when applying %d bridge name rewriting. (LP: #350780)

 -- Soren Hansen <soren@ubuntu.com>  Thu, 16 Apr 2009 20:48:49 +0200

libvirt (0.6.1-0ubuntu4) jaunty; urgency=low

  [ Marc Deslauriers <marc.deslauriers@ubuntu.com> ]
  * 0008-increase-logoutput-timeout.patch: increase timeout waiting
    for log output in src/qemu_driver.c, set to 30 seconds, which 10x
    longer than before, and matches the disk-wait in mdadm, LP: #344400

 -- Dustin Kirkland <kirkland@ubuntu.com>  Fri, 27 Mar 2009 10:57:53 -0500

libvirt (0.6.1-0ubuntu3) jaunty; urgency=low

  * Fix "libvirt's defaults are slightly less than sane" (LP: #344913)
    - more-flexible-emulator-on-x86.patch (from upstream)
    - default-arch.patch

 -- Soren Hansen <soren@ubuntu.com>  Thu, 19 Mar 2009 00:23:14 +0100

libvirt (0.6.1-0ubuntu2) jaunty; urgency=low

  * Add fix for event loop hang (LP: #344195)
    http://article.gmane.org/gmane.comp.emulators.libvirt/12437
  * Add fix for Xen events handling.
    http://git.et.redhat.com/?p=libvirt.git;a=commit;h=124cfcbc2bcd1b71b51e720b9bfc7d8e69e8af89 

 -- Soren Hansen <soren@ubuntu.com>  Fri, 13 Mar 2009 16:51:33 +0100

libvirt (0.6.1-0ubuntu1) jaunty; urgency=low

  * New upstream release. (FFe: LP: #339868)
  * Dropped 0004-Don-t-hardcode-ssh-port.patch: Included upstream.
  * Rewrote dynamic_bridge_names.patch to work with refactored upstream
    bridging code.

 -- Soren Hansen <soren@ubuntu.com>  Mon, 09 Mar 2009 11:18:01 +0100

libvirt (0.6.0-1ubuntu3) jaunty; urgency=low

  * No change rebuild for python2.6.

 -- Matthias Klose <doko@ubuntu.com>  Wed, 25 Feb 2009 12:17:13 +0000

libvirt (0.6.0-1ubuntu2) jaunty; urgency=low

  * Accidentally dropped our changes to
    0003-allow-libvirt-group-to-access-the-socket.patch, causing the
    group as which libvirtd expected to run to be wrong. Change it back
    to "libvirtd" rather than "libvirt". (LP: #328093)

 -- Soren Hansen <soren@ubuntu.com>  Wed, 11 Feb 2009 16:10:28 +0100

libvirt (0.6.0-1ubuntu1) jaunty; urgency=low

  * Merge with Debian experimental. Remaining changes:
    - debian/control:
      + Don't build-depend on QEmu.
      + Add "XS-Debian-" prefix to Debian's Vcs headers.
      + Bump bridge-utils, dnsmasq-base, netcat-openbsd, and iptables
        to Depends of libvirt-bin.
      + s/interract/interact/g
      + Add versioned Conflicts/Replaces to libvirt0 for libvirt0-dbg,
        since we used to ship them as such.
    - Rename libvirt group to libvirtd.
    - 0005-delayed_iff_up_bridge.patch: Don't try to bring up the bridge
      before at least one interface has been added to it.
    - dont_clobber_existing_bridges.patch: Assign the name of the virtual
      bridge dynamically to avoid interfering with existing bridges.
    - better_default_uri_virsh.patch: Default to qemu:///system if the
      user has write access to the libvirt socket, otherwise
      qemu:///session.
    - We call libxen-dev libxen3-dev, so change all references.
    - Included (but did not enable) opennebula patch (since it's not in
      main yet).

 -- Soren Hansen <soren@ubuntu.com>  Wed, 11 Feb 2009 01:01:42 +0100

libvirt (0.6.0-1) experimental; urgency=low

  * [30be86d] Imported Upstream version 0.6.0
  * [179781c] drop patches
          * fixed upstream:
                0006-Fix-missing-read-only-access-checks-CVE-2008-5086.patch
          * applied upstream:
                0004-Open-qemu-monitor-log-O_APPEND-instead-of-O_TRUNC.patch
                0005-qemu-fix-parallel-serial-mode-tcp-and-unix.patch
                0007-don-t-fail-on-missing-locales.patch
  * [d80a176] adjust remaining patches to new upstream version
  * [208c924] add minimal workaround for qemu startup race
  * [6e8caa0] restart libvirt daemon on upgrades if possible 
    (Closes: #492694, #499008)

 -- Guido Günther <agx@sigxcpu.org>  Thu, 05 Feb 2009 18:40:10 +0100

libvirt (0.5.1-7) unstable; urgency=low

  * [1238706] Recommend dnsmasq-base instead of dnsmasq this keeps us
    out of all the dnsmasq already running troubles. (Closes: #516443) -
    thanks to Bin Zhang for the suggestion and the doc update
  * [5c9dfd7] don't rotate empty logfiles (Closes: #517040)
  * [1c9a023] libvirt_proxy: Fix use of uninitalized memory We currently
    don't build this code (CVE-2009-0036).
  * [4ea1ea9] fix path to hvmloader (Closes: #517059)
  * [879b632] suggest devhelp
  * [f22f1ef] add ${misc:Depends}
  * [c6f579e] README.Debian: fix typo

 -- Guido Günther <agx@sigxcpu.org>  Thu, 26 Feb 2009 14:45:32 +0100

libvirt (0.5.1-6) unstable; urgency=low

  * upload to unstable

 -- Guido Günther <agx@sigxcpu.org>  Mon, 16 Feb 2009 21:27:21 +0100

libvirt (0.5.1-5) experimental; urgency=low

  * [d4a69d1] don't fail on missing locales (Closes: #512721)
  * [cecac4c] don't hardcode ssh port - based on a patch by Adrian
    Bridgett. (Closes: #513605)
  * [4565a65] drop superflous headers and footers from remaining patches

 -- Guido Günther <agx@sigxcpu.org>  Fri, 30 Jan 2009 23:06:29 +0100

libvirt (0.5.1-4ubuntu1) jaunty; urgency=low

  * Merge with Debian experimental.
    - debian/control:
      + Don't build-depend on QEmu.
      + Add "XS-Debian-" prefix to Debian's Vcs headers.
      + Bump bridge-utils, dnsmasq-base, netcat-openbsd, and iptables
        to Depends of libvirt-bin.
      + s/interract/interact/g
      + Add versioned Conflicts/Replaces to libvirt0 for libvirt0-dbg,
        since we used to ship them as such.
    - Rename libvirt group to libvirtd.
    - 0005-delayed_iff_up_bridge.patch: Don't try to bring up the bridge
      before at least one interface has been added to it.
    - dont_clobber_existing_bridges.patch: Assign the name of the virtual
      bridge dynamically to avoid interfering with existing bridges.
    - better_default_uri_virsh.patch: Default to qemu:///system if the
      user has write access to the libvirt socket, otherwise
      qemu:///session.
    - We call libxen-dev libxen3-dev, so change all references.
  * Included (but did not enable) opennebula patch (since it's not in
    the archive yet).

 -- Soren Hansen <soren@ubuntu.com>  Thu, 08 Jan 2009 23:01:16 +0100

libvirt (0.5.1-4) experimental; urgency=low

  * [2fd5224] apply upstream patch for CVE-2008-5086 (Closes: #509106)

 -- Guido Günther <agx@sigxcpu.org>  Thu, 18 Dec 2008 16:12:00 +0100

libvirt (0.5.1-3) experimental; urgency=low

  * [d30438c] create libvirt log directory (Closes: #508129)
  * [417a23c] qemu: fix parallel/serial mode "tcp" and "unix" 
    (Closes: #507608)

 -- Guido Günther <agx@sigxcpu.org>  Thu, 11 Dec 2008 12:38:01 +0100

libvirt (0.5.1-2) experimental; urgency=low

  * [4cd547b] create /var/run/libvirt (Closes: #507578)
  * [fe96870] merge back master
  * [d46313f] drop patches for issues fixed upstream
     - 0007-also-look-for-usr-bin-kvm.patch
     - 0008-Increase-initial-qemu-monitor-read-timeout.patch
     - 0009-Open-qemu-monitor-log-O_APPEND-instead-of-O_TRUNC.patch
     - 0010-raise-error-on-invalid-volume-format.patch

 -- Guido Günther <agx@sigxcpu.org>  Sat, 06 Dec 2008 10:37:12 +0100

libvirt (0.5.1-1) experimental; urgency=low

  * [d76b3a1] Imported Upstream version 0.5.1 (Closes: #507677, #507547)
  * [2e550ae] enable hal for device enumeration
  * [0d9116a] rotate qemu monitor logs (Closes: #507553) - thanks to
    Harald Staub
  * [5f85e66] depend on logrotate
  * [6e955a3] open qemu monitor O_APPEND instead of O_TRUNC for logrotate
  * [7dbea84] drop 0004-xen-prefer-xenstoraged-driver-for-
    listDomains.patch - applied upstream

 -- Guido Günther <agx@sigxcpu.org>  Fri, 05 Dec 2008 09:36:54 +0100

libvirt (0.5.0-1) experimental; urgency=low

  * [717ef21] Imported Upstream version 0.5.0
  * [b7a1fbd] enable OpenVZ support (Closes: #504597) - thanks to Pierre
    Chifflier for the patch
  * [ee3590a] drop patches, fixed upstream:
        * 0004-support-virtio-and-scsi-disks-in-qemudDomainBlockSta.patch
        * 0005-fix-define-vs.-defined-typos.patch
  * [f4f601f] bump shlibs to 0.5.0

 -- Guido Günther <agx@sigxcpu.org>  Fri, 28 Nov 2008 16:40:38 +0100

libvirt (0.4.6-10) unstable; urgency=low

  * [5878698] cherry-pick patch for CVE-2008-5086 from experimental

 -- Guido Günther <agx@sigxcpu.org>  Thu, 18 Dec 2008 16:59:45 +0100

libvirt (0.4.6-9) unstable; urgency=low

  * [d30438c] create libvirt log directory (Closes: #508129)

 -- Guido Günther <agx@sigxcpu.org>  Mon, 08 Dec 2008 10:12:28 +0100

libvirt (0.4.6-8) unstable; urgency=low

  * [e771da9] drop superflous 0011-Fix-segfault-on-missing-volume-
    format.patch - not needed.

 -- Guido Günther <agx@sigxcpu.org>  Fri, 05 Dec 2008 10:17:01 +0100

libvirt (0.4.6-7) unstable; urgency=low

  * [ea12bd9] create /var/run/libvirt fixes /var/run on tmpfs
    (Closes: #507578)
  * [97e5706] also look for /usr/bin/kvm (Closes: #507547) 
  * [311b4c1] increase initial qemu monitor read timeout 
    (Closes: #499720)
  * [fbe4e00] open qemu monitor log O_APPEND instead of O_TRUNC
  * [f8ce017] raise error on invalid volume format
  * [40edcf8] rotate qemu monitor logs (Closes: #507553) - thanks to
    Harald Staub
  * [46ea43a] fix segfault on missing volume format (Closes: #507677) -
    thanks to Daniel Veillard
  * [ee377f3] bump shlibs version to 0.4.6
  * [504d55d] depend on logrotate

 -- Guido Günther <agx@sigxcpu.org>  Thu, 04 Dec 2008 17:50:45 +0100

libvirt (0.4.6-6) unstable; urgency=low

  * [ff8e9ae] README.Debian: clarify xen configuration
  * [c07c68f] prefer xenstoraged driver for listDomains - avoids seeing "ghost
    domains" due to bugs in several versions of the xen HV

 -- Guido Günther <agx@sigxcpu.org>  Thu, 27 Nov 2008 18:06:48 +0100

libvirt (0.4.6-5ubuntu2) jaunty; urgency=low

  * SECURITY UPDATE: fix privilege escalation due to missing read only
    connection checks
    - debian/patches/0009-CVE-2008-5086.patch: update functions in
      src/libvirt.c to check against VIR_CONNECT_RO and return with operation
      denied error
    - CVE-2008-5086

 -- Jamie Strandboge <jamie@ubuntu.com>  Tue, 16 Dec 2008 10:47:09 -0600

libvirt (0.4.6-5ubuntu1) jaunty; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/control:
      + Don't build-depend on QEmu.
      + Add "XS-Debian-" prefix to Debian's Vcs headers.
      + Bump bridge-utils, dnsmasq-base, netcat-openbsd, and iptables to Depends
        of libvirt-bin.
      + s/interract/interact/g
      + Add versioned Conflicts/Replaces to libvirt0 for libvirt0-dbg, since
        we used to ship them as such.
    - Create /var/run/libvirt in libvirt-bin's init script.
    - Rename libvirt group to libvirtd.
    - 0005-delayed_iff_up_bridge.patch: Don't try to bring up the bridge before at
      least one interface has been added to it.
    - dont_clobber_existing_bridges.patch: Assign the name of the virtual
      bridge dynamically to avoid interfering with existing bridges.
    - better_default_uri_virsh.patch: Default to qemu:///system if the user
      has write access to the libvirt socket, otherwise qemu:///session.
    - We call libxen-dev libxen3-dev, so change all references.
  * Add qemu migration patch (from upstream git (adjusted for 0.4.6)).
  * Add dynamic_bridge_names.patch to again support dynamic bridge names.

 -- Soren Hansen <soren@ubuntu.com>  Tue, 18 Nov 2008 18:04:40 +0100

libvirt (0.4.6-5) unstable; urgency=low

  * [411ada3] add more details about dnsmasq vs. libvirtd (Closes: #504605)
  * [2f8f07d] add default image dir virt-manager assumes they exist and
    they're used in the SELinux policies too. (Closes: #505577)
  * [9eb3a83] fix #define vs. #defined typos - affects non Linux architectures
    and fixes the build with gcc 4.4 (Closes: #505607) - thanks to Martin
    Michlmayr
  * [0e21634] fix uploader

 -- Guido Günther <agx@sigxcpu.org>  Fri, 14 Nov 2008 14:54:48 +0100

libvirt (0.4.6-4) unstable; urgency=low

  * upload to unstable
  * [50b27f5] add libvirt-suspendonreboot script (Closes: #501155) -
    thanks to Andreas Barth

 -- Guido Günther <agx@sigxcpu.org>  Sat, 01 Nov 2008 19:33:36 +0100

libvirt (0.4.6-3) experimental; urgency=low

  * [8fa5a3c] add a versioned recommends on qemu (Closes: #501692)
  * [d1539bc] recommend pkg-config
  * [f08bb18] explain libvirt group (Closes: #501824)

 -- Guido Günther <agx@sigxcpu.org>  Sun, 12 Oct 2008 20:27:25 +0200

libvirt (0.4.6-2) experimental; urgency=low

  * [2039095] tighten libvirt dependency
  * [06dbe8a] qemu/kvm: fix domain block stats for virtio and scsi devices 

 -- Guido Günther <agx@sigxcpu.org>  Thu, 02 Oct 2008 22:03:05 +0200

libvirt (0.4.6-1) experimental; urgency=low

  * [e20d3d4] Imported Upstream version 0.4.6
  * [0c840ab] disable numactl
  * [ca2c5cb] cleanup doc installation (Closes: #492075)
  * [714ab94] drop 0004-for-kvm-determine-maxVCPUs-at-runtime.patch - applied
    upstream 
  * [e7563a8] drop 0005-fix-crash-when-no-emulator-is-defined-for-kvm-
    qemu.patch - fixed upstream

 -- Guido Guenther <agx@sigxcpu.org>  Thu, 25 Sep 2008 12:31:45 +0200

libvirt (0.4.5-2) experimental; urgency=low

  * [17647cd] libvirt-bin.default: add keytab default
  * [0ef01e7] fix runtime vcpu detection (0004-for-kvm-determine-
    maxVCPUs-at-runtime.patch) (Closes: #495950)
  * [b91e1eb] don't crash when no emulator is defined (0005-fix-crash-
    when-no-emulator-is-defined-for-kvm-qemu.patch)

 -- Guido Guenther <agx@sigxcpu.org>  Mon, 22 Sep 2008 20:11:04 +0200

libvirt (0.4.5-1) experimental; urgency=low

  * [ab8b4e6] Imported Upstream version 0.4.5
  * [4aaef27] tighten dependency on libvirt
  * [fa253be] drop 0002-qemu-path.diff.patch - fixed upstream
  * [87fc2db] drop 0005-check-for-the-existence-of-the-migrate-
    command.patch applied upstream
  * [bc311aa] drop 0006-wrong-open-failure-detection.patch applied
    upstream
  * [38e615d] rebase the remaining patches
  * [9a04bb7] bump shlibs version to 0.4.5
  * [9fadd6f] disable LXC
  * [179c869] build-dep on libselinux1-dev for selinux support

 -- Guido Guenther <agx@sigxcpu.org>  Thu, 18 Sep 2008 19:02:55 +0200

libvirt (0.4.4-3ubuntu3) intrepid; urgency=low

  * debian/patches/0008-lp287533.patch: allow 16 VCPUs when using kvm
    (LP: #287533)

 -- Jamie Strandboge <jamie@ubuntu.com>  Wed, 22 Oct 2008 10:13:12 -0500

libvirt (0.4.4-3ubuntu2) intrepid; urgency=low

  * Make QEmu a suggested package of libvirt0 rather than a recommended one. 
  * Make kvm a recommended package of libvirt0.

 -- Soren Hansen <soren@ubuntu.com>  Mon, 11 Aug 2008 16:18:03 +0200

libvirt (0.4.4-3ubuntu1) intrepid; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/control:
      + DebianMaintainerField
      + Don't build-depend on QEmu.
      + Add "XS-Original-" prefix to Debian's Vcs headers.
      + Bump bridge-utils, dnsmasq-base, netcat-openbsd, and iptables to Depends
        of libvirt-bin.
      + s/interract/interact/g
      + Add versioned Conflicts/Replaces to libvirt0 for libvirt0-dbg, since
        we used to ship them as such.
    - Create /var/run/libvirt in libvirt-bin's init script.
    - Rename libvirt group to libvirtd.
    - 0005-delayed_iff_up_bridge.patch: Don't try to bring up the bridge before at
      least one interface has been added to it.
    - dont_clobber_existing_bridges.patch: Assign the name of the virtual
      bridge dynamically to avoid interfering with existing bridges.
    - better_default_uri_virsh.patch: Default to qemu:///system if the user
      has write access to the libvirt socket, otherwise qemu:///session.
    - We call libxen-dev libxen3-dev, so change all references.

 -- Soren Hansen <soren@ubuntu.com>  Mon, 11 Aug 2008 15:36:54 +0200

libvirt (0.4.4-3) unstable; urgency=low

  * upload to unstable
  * [96c6727] add /var/cache/libvirt needed by qemuDriver for temporary
    storage
  * [794f95c] bump standards version to 3.8.0
  * [05184af] add README.source

 -- Guido Guenther <agx@sigxcpu.org>  Wed, 23 Jul 2008 11:30:31 -0400

libvirt (0.4.4-2) experimental; urgency=low

  * [facb983] README.Debian explain "default" network startup
  * [395a510] add /var/lib/libvirt needed for the dnsmasq lease file
  * [9c588ac] promote bridge-utils & dnsmasq to Recommends: since
    they're needed for the default NAT network
  * [9ed2cd4] recommend iptables - needed for the default NAT network

 -- Guido Guenther <agx@sigxcpu.org>  Wed, 23 Jul 2008 00:23:58 -0400

libvirt (0.4.4-1) experimental; urgency=low

  * [0ff1e68] new upstream version
  * [2098f96] rebase patches for 0.4.4
  * [abbd15e] enable with-storage-disk now that we have parted1.8
  * [3942b25] start libvirtd by default

 -- Guido Guenther <agx@sigxcpu.org>  Fri, 27 Jun 2008 10:06:00 +0200

libvirt (0.4.4-0ubuntu1) intrepid; urgency=low

  * New upstream release
    - Drop nic-model, disk-bus, and ancient_parted.patch. They're all
      upstream now (in some form).
    - Add new libdevmapper-dev build-dependency.

 -- Soren Hansen <soren@ubuntu.com>  Wed, 25 Jun 2008 18:51:21 +0200

libvirt (0.4.2-6ubuntu1) UNRELEASED; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/control:
      + DebianMaintainerField
      + Don't build-depend on QEmu.
      + Add "XS-Original-" prefix to Debian's Vcs headers.
      + Bump bridge-utils, dnsmasq-base, netcat-openbsd, and iptables to Depends
        of libvirt-bin.
      + s/interract/interact/g
    - debian/libvirt-bin.default
      + Make libvirtd start by default
    - Add /var/lib/libvirt to libvirt-bin package. (dnsmasq needs it to store
      its state info.
    - Create /var/run/libvirt in libvirt-bin's init script.
    - Rename libvirt group to libvirtd.
    - Build iscsi and disk storage support.
    - delayed_iff_up_bridge.patch: Don't try to bring up the bridge before at
      least one interface has been added to it.
    - dont_clobber_existing_bridges.patch: Assign the name of the virtual
      bridge dynamically to avoid interfering with existing bridges.
    - nic-model.patch: Add support for <model type='foo'/> NIC configuration.
    - disk-bus.patch:  Add support for bus='foo' attributes for disk targets.
    - better_default_uri_virsh.patch: Default to qemu:///system if the user
      has write access to the libvirt socket, otherwise qemu:///session.
    - ancient_parted.patch: Fix builds against libparted1.7
    - We call libxen-dev libxen3-dev, so change all references.

 -- Soren Hansen <soren@ubuntu.com>  Wed, 25 Jun 2008 16:40:46 +0200

libvirt (0.4.2-6) unstable; urgency=low

  * reenable open-iscsi support  - thanks to to the open-iscsi
    maintainers for fixing this up
  * build a libvirt0-dbg package
  * register documentation with doc-base  (Closes: #480294) - thanks to
    Tzafrir Cohen for the patch
  * control: fix typo
  * README.Debian: explain debugging

 -- Guido Guenther <agx@sigxcpu.org>  Thu, 15 May 2008 18:04:20 +0200

libvirt (0.4.2-5ubuntu2) intrepid; urgency=low

  * We call libxen-dev libxen3-dev.
  * Make libvirt-dev installable alongside libvirt0-dbg.

 -- Soren Hansen <soren@ubuntu.com>  Fri, 02 May 2008 10:59:50 +0200

libvirt (0.4.2-5ubuntu1) intrepid; urgency=low

  * Merge from debian unstable, remaining changes:
    - debian/control:
      + DebianMaintainerField
      + Don't build-depend on QEmu.
      + Add "XS-Original-" prefix to Debian's Vcs headers.
      + Bump bridge-utils, dnsmasq-base, netcat-openbsd, and iptables to Depends
        of libvirt-bin.
      + s/interract/interact/g
    - Add libvirt0-dbg package
    - debian/libvirt-bin.default
      + Make libvirtd start by default
    - Add /var/lib/libvirt to libvirt-bin package. (dnsmasq needs it to store
      its state info.
    - Create /var/run/libvirt in libvirt-bin's init script.
    - Install PolicyKit and sasl stuff in libvirt-bin.
    - Rename libvirt group to libvirtd.
    - Build iscsi and disk storage support.
    - delayed_iff_up_bridge.patch: Don't try to bring up the bridge before at
      least one interface has been added to it.
    - dont_clobber_existing_bridges.patch: Assign the name of the virtual
      bridge dynamically to avoid interfering with existing bridges.
    - nic-model.patch: Add support for <model type='foo'/> NIC configuration.
    - disk-bus.patch:  Add support for bus='foo' attributes for disk targets.
    - better_default_uri_virsh.patch: Default to qemu:///system if the user
      has write access to the libvirt socket, otherwise qemu:///session.
    - ancient_parted.patch: Fix builds against libparted1.7

 -- Soren Hansen <soren@ubuntu.com>  Fri, 02 May 2008 01:50:32 +0200

libvirt (0.4.2-5) unstable; urgency=low

  * no need to depend on python-all-dev we only build an extension for
    the current python version

 -- Guido Guenther <agx@sigxcpu.org>  Tue, 22 Apr 2008 11:26:13 +0200

libvirt (0.4.2-4) unstable; urgency=low

  * only build-dep on qemu on architectures that have it  
    (Closes: #476290)
  * the packages containing the daemon should suggest polkit

 -- Guido Guenther <agx@sigxcpu.org>  Fri, 18 Apr 2008 10:41:38 +0200

libvirt (0.4.2-3) unstable; urgency=low

  * drop the {build-,}dependency on open-iscsi too 
  * suggest policykit

 -- Guido Guenther <agx@sigxcpu.org>  Mon, 14 Apr 2008 15:27:20 +0200

libvirt (0.4.2-2) unstable; urgency=low

  * disable the iscsi storage backend until #423368 is fixed in unstable
  * disable polkit authentication by default so the libvirt stays accessible
    for members of the libvirt group

 -- Guido Guenther <agx@sigxcpu.org>  Mon, 14 Apr 2008 14:20:23 +0200

libvirt (0.4.2-1) unstable; urgency=low

  * drop no-mac.diff - applied upstream
  * no need to explicitly link against libpthread
  * always enable debugging
  * add Homepage URL
  * add Vcs-{Git,Browser} fields
  * symlink devhelp docs
  * enable policy kit

 -- Guido Guenther <agx@sigxcpu.org>  Fri, 11 Apr 2008 17:54:06 +0200

libvirt (0.4.1-1) experimental; urgency=low

  * new upstream version
       * Xen 3.2 fixes
       * storage pool support
  * partition based storage pools are disabled, since this needs parted 1.8
    which is only in experimental
  * update patches for new upstream release
       * boot-dev-error.diff - applied upstream
       * qemu-parse-error.diff - applied upstream
       * qemu-path.diff - adjust to new hypervisor detection code
       * rediff the rest
  * new patches:
       * no-mac.diff: don't set mac address on tun device since it breaks kvm
  * bump shlibs version 

 -- Guido Guenther <agx@sigxcpu.org>  Fri, 07 Mar 2008 10:17:21 +0100

libvirt (0.4.0-6) unstable; urgency=low

  * depend on libxen-dev (Closes:#467598)
  * allow members of the libvirt group to manage virtual machines

 -- Guido Guenther <agx@sigxcpu.org>  Sun, 02 Mar 2008 16:11:49 +0100

libvirt (0.4.0-5) unstable; urgency=low

  * thanks to the xen maintainers Debian now has a working libxen-dev, so
    enable xen support in the default build (Closes: #453826)
  * recommend netcat-openbsd for unix domain socket support (Closes: #453627)
  * README.Debian: document necessary xend options
  * fix spelling of Python 

 -- Guido Guenther <agx@sigxcpu.org>  Wed, 20 Feb 2008 11:14:22 +0100

libvirt (0.4.0-4) unstable; urgency=low

  * don't segfault on broken boot device configuration (Closes: #463686)
  * don't segfault due to missing errorhandling in the XML parsing code

 -- Guido Guenther <agx@sigxcpu.org>  Tue, 05 Feb 2008 13:12:54 +0100

libvirt (0.4.0-3) unstable; urgency=low

  * add and remove the libvirt group for the socket
  * be a bit more verbose on libvirtd reload
  * depend on adduser since we add the libvirt user
  * don't restart libvirtd on upgrades since it kills running qemus
  * enable debugging via DEB_BUILD_OPTS

 -- Guido Guenther <agx@sigxcpu.org>  Sun, 03 Feb 2008 14:21:46 +0100

libvirt (0.4.0-2ubuntu8) hardy; urgency=low

  * disk-bus.patch:
    - Add bus attribute to disk/target tags. Allows you to create virtio disks.
      (LP: #213991)
  * nic-model.patch:
    - Add <model type='foo'/> support to network interfaces. (LP: #213991)
  * graceful_shutdown.patch:
    - Rather than pulling the power from virtual machines, send an ACPI power
      button event and let the OS handle it.
  * better_default_uri_virsh.patch:
    - Updated patch: Output connection URI to stderr instead of stdout to avoid
      breaking scripts that use virsh.

 -- Soren Hansen <soren@ubuntu.com>  Wed, 16 Apr 2008 10:35:03 +0200

libvirt (0.4.0-2ubuntu7) hardy; urgency=low

  * better_default_uri_virsh.patch:
    - Make virsh connect to qemu:///system by default if the user has write
      access to /var/run/libvirt/libvirt-sock and qemu:///session if not.

 -- Soren Hansen <soren@ubuntu.com>  Tue, 01 Apr 2008 10:32:59 +0200

libvirt (0.4.0-2ubuntu6) hardy; urgency=low

  * *Actually* apply our patches to the -dbg version.

 -- Soren Hansen <soren@ubuntu.com>  Tue, 11 Mar 2008 14:49:03 +0100

libvirt (0.4.0-2ubuntu5) hardy; urgency=low

  * Create /var/lib/libvirt in libvirt-bin. (LP: #191636)

 -- Soren Hansen <soren@ubuntu.com>  Wed, 13 Feb 2008 22:17:33 +0100

libvirt (0.4.0-2ubuntu4) hardy; urgency=low

  * dont_clobber_existing_bridges.patch:
    - Change bridge name from virbr0 to virbr%d, to ensure we never clobber
      existing bridges.
  * Add iptables dependency

 -- Soren Hansen <soren@ubuntu.com>  Wed, 13 Feb 2008 00:53:20 +0100

libvirt (0.4.0-2ubuntu3) hardy; urgency=low

  * Build against libxen3-dev instead of libxen3.2-dev.
  * libvirt-bin:
    + Replace "Suggests: dnsmasq" with "Depends: dnsmasq-base".
    + Add dependency on netcat-openbsd (to enable qemu+ssh:// style remote
      management)

 -- Soren Hansen <soren@ubuntu.com>  Fri, 08 Feb 2008 17:24:48 +0100

libvirt (0.4.0-2ubuntu2) hardy; urgency=low

  * Build against libxen-3.2 instead of 3.1.
  * Bump bridge-utils from Suggests: to Depends:.

 -- Soren Hansen <soren@ubuntu.com>  Tue, 05 Feb 2008 10:34:31 +0100

libvirt (0.4.0-2ubuntu1) hardy; urgency=low

  * Merge from debian unstable, remaining changes:
    - DebianMaintainerField.
    - Add libxen3.1-dev to enable Xen management.
    - Add libpolkit-dbus-dev to enable polkit integration.
    - Build libvirt0-dbg flavour.
    - Start libvirtd by default.
    - Install polkit policy.
    - Install sasl config.
    - Install sample qemu and libvirtd config.
    - Create libvirtd group in postinst.
    - libvirt-remote-ssh.patch: Fix foo+ssh:// urls.
    - delayed_iff_up_bridge.patch: Don't try to IFF_UP the bridge interface
      until an interface gets added to it.
  * Create /var/run if it doesn't exist (LP: #178106).

 -- Soren Hansen <soren@ubuntu.com>  Wed, 30 Jan 2008 16:43:11 +0100

libvirt (0.4.0-2) unstable; urgency=low

  * libvirt-bin.init: fix the reload target
  * add configuration examples

 -- Guido Guenther <agx@sigxcpu.org>  Sat, 15 Dec 2007 18:59:11 +0100

libvirt (0.4.0-1) unstable; urgency=low

  * new upstream version
  * enable sasl support
  * leave policykit support disabled since it's not in unstable yet
  * bump shlibs version
  * remove CVS metadata
  * rediff patches
  * libvirtd-bin.init: libvirtd supports reload

 -- Guido Guenther <agx@sigxcpu.org>  Fri, 21 Dec 2007 16:49:13 +0100

libvirt (0.4.0-0ubuntu3) hardy; urgency=low

  * Clean up debian/rules (should reenable concurrent builds).
  * Don't restart libvirt on upgrades (if there's a good reason, we'll
    add it to postinst/prerm with checks for specific versions).

 -- Soren Hansen <soren@ubuntu.com>  Fri, 18 Jan 2008 19:07:19 +0100

libvirt (0.4.0-0ubuntu2) hardy; urgency=low

  * IFF_UP'ing a bridge interface doesn't work until the first interface has
    been added to it.
  * Fix remote ssh connections.

 -- Soren Hansen <soren@ubuntu.com>  Tue, 15 Jan 2008 10:53:25 +0100

libvirt (0.4.0-0ubuntu1) hardy; urgency=low

  * New upstream release.
  * Don't change the default URI. It appears that too many applications
    still depend on this broken behaviour.
  * Change maintainer to ubuntu-core-dev.

 -- Soren Hansen <soren@ubuntu.com>  Fri, 21 Dec 2007 11:24:02 +0100

libvirt (0.3.3-6ubuntu1) hardy; urgency=low

  * Merge from debian unstable, remaining changes:
    - Add libvirt0-dbg package.
    - Start libvirtd by default.
    - Create libvirtd group, and have libvirtd's sockets have group ownership
      "libvirtd".
    - Add libxen as a build-dependency to enable libvirt's Xen features.

 -- Soren Hansen <soren@ubuntu.com>  Thu, 20 Dec 2007 11:28:00 +0100

libvirt (0.3.3-6) unstable; urgency=low

  * don't include precompiled examples in the doc package (Closes: #456825)
  * remove RHism from manpage (Closes: #455859)
  * bump standards version

 -- Guido Guenther <agx@sigxcpu.org>  Wed, 19 Dec 2007 13:45:58 +0100

libvirt (0.3.3-5.xen0) unstable; urgency=low

  * rebuild with xen support

 -- Guido Guenther <agx@sigxcpu.org>  Tue, 08 Jan 2008 11:00:24 +0100

libvirt (0.3.3-5) unstable; urgency=low

  * make libs match overrides
  * move to team maintenance
  * suggest dnsmasq and bridge-utils for qemu networking
  * remove stale PID files

 -- Guido Guenther <agx@sigxcpu.org>  Thu, 13 Dec 2007 21:34:16 +0100

libvirt (0.3.3-4.xen0) unstable; urgency=low

  * UNRELEASED
  * build with xen support
  * debian/control: we also support xen

 -- Guido Guenther <agx@sigxcpu.org>  Thu, 06 Dec 2007 15:43:03 +0100

libvirt (0.3.3-4ubuntu5) hardy; urgency=low

  * Made default_uri a configurable.

 -- Soren Hansen <soren@ubuntu.com>  Wed, 19 Dec 2007 00:56:31 +0100

libvirt (0.3.3-4ubuntu4) hardy; urgency=low

  * Add "Provides: libvirt0" to libvirt0-dbg.
  * Make virsh understand that the default URI is not xen:///.

 -- Soren Hansen <soren@ubuntu.com>  Wed, 19 Dec 2007 00:13:10 +0100

libvirt (0.3.3-4ubuntu3) hardy; urgency=low

  * Change default URI to qemu:///session
  * Add libvirt0-dbg package, which is just like libvirt0, but built
    with --enable-debug=yes.

 -- Soren Hansen <soren@ubuntu.com>  Thu, 13 Dec 2007 21:37:39 +0100

libvirt (0.3.3-4ubuntu2) hardy; urgency=low

  * Start libvirtd by default.
  * Create libvirtd group, and have libvirtd's sockets have group ownership
    "libvirtd".

 -- Soren Hansen <soren@ubuntu.com>  Thu, 13 Dec 2007 15:08:29 +0100

libvirt (0.3.3-4ubuntu1) hardy; urgency=low

  * Fakesync with Debian.
  * Reenable Xen.

 -- Soren Hansen <soren@ubuntu.com>  Thu, 06 Dec 2007 13:33:13 +0100

libvirt (0.3.3-4) unstable; urgency=low

  * put packages into the proper sections
  * fix messed up Standards-Version (Closes: #453900)

 -- Guido Guenther <agx@sigxcpu.org>  Sun, 02 Dec 2007 14:50:11 +0100

libvirt (0.3.3-3.xen0) unstable; urgency=low

  * build with xen support - depend on our hacked up xen-utils for that

 --  Guido Guenther <agx@sigxcpu.org>  Sat, 01 Dec 2007 16:27:32 +0000

libvirt (0.3.3-3) unstable; urgency=low

  * add initscript to start libvirtd

 -- Guido Guenther <agx@sigxcpu.org>  Wed, 28 Nov 2007 10:30:29 +0100

libvirt (0.3.3-2) unstable; urgency=low

  * debian/copyright:
      * update FSF address
      * update upstream author and copyright information
  * install the virsh manpage
  * use binary:Version instead of Source-Version

 -- Guido Guenther <agx@sigxcpu.org>  Fri, 23 Nov 2007 22:31:26 +0100

libvirt (0.3.3-1) unstable; urgency=low

  * repackage for Debian (Closes: #384300)
  * enable avahi
  * build with qemu/kvm support
  * disable xen support until #402249 is fixed
  * disable qemu autonetwork for now, causes libvirtd to seqfault
  * fix path to kvm
  * switch off DH_VERBOSE
  * thanks to the Ubuntu maintainers for their work!

 -- Guido Guenther <agx@sigxcpu.org>  Fri, 23 Nov 2007 01:58:56 +0100

libvirt (0.3.3-0ubuntu1) hardy; urgency=low

  * New upstream release.
  * Update maintainer.

 -- Soren Hansen <soren@ubuntu.com>  Wed, 14 Nov 2007 23:09:33 +0100

libvirt (0.3.0-0ubuntu2) gutsy; urgency=low

  * Add lingnutls-dev Build-Dep.

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Mon, 16 Jul 2007 12:10:41 +0200

libvirt (0.3.0-0ubuntu1) gutsy; urgency=low

  * Import new upstram release that can actually build on xen-3.1.

 -- Fabio M. Di Nitto <fabbione@ubuntu.com>  Mon, 16 Jul 2007 10:23:04 +0200

libvirt (0.2.2-0ubuntu1) gutsy; urgency=low

  * Depends on libxen3.1-dev.

 -- Chuck Short <zulcss@ubuntu.com>  Fri, 13 Jul 2007 11:04:00 -0400

libvirt (0.2.2-0ubuntu0) gutsy; urgency=low

  * New upstream version.
  * Updated libvirt-bin.install, thanks to Marcelo Boveto Shima.

 -- Chuck Short <zulcss@ubuntu.com>  Sun, 24 Jun 2007 09:54:54 -0400

libvirt (0.1.8-0ubuntu2) feisty; urgency=low

  * Rebuild for python2.5 as the default python version.

 -- Matthias Klose <doko@ubuntu.com>  Fri, 12 Jan 2007 13:21:55 +0000

libvirt (0.1.8-0ubuntu1) feisty; urgency=low

  * Initial release

 -- Andrew Mitchell <ajmitch@ubuntu.com>  Mon, 23 Oct 2006 20:00:28 +1300

